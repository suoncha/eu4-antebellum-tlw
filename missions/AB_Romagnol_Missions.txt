romagnol_first = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_conquer_florence = {
		icon = conquer_tuscany
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			OR = {
				province_id = 116
				province_id = 2978
				owned_by = LAN
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			116 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			2978 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			NOT = { exists = LAN }
		}
		
		effect = {
			change_innovativeness = 5
			add_country_modifier = {
				name = lom_home_renaissance
				duration = 5475
			}
			liguria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					artist = 1
				}
				custom_tooltip = RMG_ARTIST_YES
				add_country_modifier = {
					name = rmg_works_florence
					duration = 9125
				}
			}
			else = {
				custom_tooltip = RMG_ARTIST_NO
				tooltip = {
					add_country_modifier = {
						name = rmg_works_florence
						duration = 9125
					}
				}
			}
		}
	}

	rmg_florence_monument = {
		icon = public_works
		required_missions = { rmg_conquer_florence }
		position = 3

		provinces_to_highlight = {
			province_id = 116
			OR = {
				NOT = { owned_by = ROOT }
				NOT = {
					has_great_project = {
						type = santa_maria_del_fiore
						tier = 2
					}
				}
			}
		}

		trigger = {
			116 = {
				owned_by = ROOT
			}
			116 = {
				has_great_project = {
					type = santa_maria_del_fiore
					tier = 2
				}
			}
			treasury = 2500
		}

		effect = {
			add_treasury = -2500
			add_splendor = 400
			add_country_modifier = {
				name = ivr_innovative_engineering
				duration = 9125
			}
			if = {
				limit = {
					116 = {
						NOT = {
							has_great_project = {
								type = santa_maria_del_fiore
								tier = 3
							}
						}
					}
				}
				custom_tooltip = RMG_FIORE_LEVEL_2_YES
			}
			else = {
				custom_tooltip = RMG_FIORE_LEVEL_2_NO
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					116 = {
						has_great_project = {
							type = santa_maria_del_fiore
							tier = 3
						}
					}
				}
				custom_tooltip = RMG_FIORE_LEVEL_3_YES
			}
			else = {
				custom_tooltip = RMG_FIORE_LEVEL_3_NO
			}
			hidden_effect = {
				if = {
					limit = {
						116 = {
							has_great_project = {
								type = santa_maria_del_fiore
								tier = 3
							}
						}
					}
					set_country_flag = rmg_fiore_level_3_bonus_flag
				}
				else = {
					116 = {
						add_great_project_tier = {
							type = santa_maria_del_fiore
							tier = 1
						}
					}
				}
			}
		}
	}

	rmg_build_shipyards = {
		icon = secure_the_republic
		required_missions = { rmg_invade_genoa }
		position = 4

		provinces_to_highlight = {
			owned_by = ROOT
			has_port = yes
			has_shipyard_building_trigger = no
		}
		
		trigger = {
			navy_size_percentage = 1
			num_of_galley = 20
			num_of_owned_provinces_with = {
				value = 10
				has_shipyard_building_trigger = yes
			}
		}

		effect = {
			create_admiral = { tradition = 50 }
			define_advisor = {
				type = naval_reformer
				skill = 3
				cost_multiplier = 0.5
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = lom_regia
				duration = 10950
			}
			corsica_sardinia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

romagnol_first_locked = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
		}
	}
	has_country_shield = yes

	rmg_retake_isles_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_build_shipyards rmg_unite_italy }
		position = 6

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_no_muslim_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_retake_isles_locked rmg_liberate_naples_locked }
		position = 8

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}
}

romagnol_first_unlocked = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_retake_isles = {
		icon = seize_sardinia
		required_missions = { rmg_build_shipyards rmg_unite_italy }
		position = 6

		provinces_to_highlight = {
			area = corsica_sardinia_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			corsica_sardinia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
		}

		effect = {
			corsica_sardinia_area = {
				add_province_modifier = {
					name = rmg_sea_fortress
					duration = -1
				}
			}
			add_country_modifier = {
				name = lom_new_hegemon
				duration = 7300
			}
			baleares_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rmg_no_muslim = {
		icon = arb_sicily
		required_missions = { rmg_retake_isles rmg_liberate_naples }
		position = 8

		provinces_to_highlight = {
			region = italy_region
			owner = {
				religion_group = muslim
			}
		}
		
		trigger = {
			italy_region = {
				type = all
				owner = {
					NOT = { religion_group = muslim }
				}
			}
		}

		effect = {
			country_event = {
				id = ab_lombardy.4
			}
			custom_tooltip = AB_EMPTY
			set_country_flag = rmg_convert_grant_mana
			custom_tooltip = RMG_CONVERT_BONUS
		}
	}
}

romagnol_first_tall = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_romagnol_renaissance = {
		icon = mission_english_renaissance
		required_missions = { }
		position = 9

		provinces_to_highlight = {
			is_capital_of = ROOT
		}
		
		trigger = {
			prestige = 40
			capital_scope = {
				renaissance = 75
			}
			OR = {
				has_adm_advisor_2 = yes
				has_dip_advisor_2 = yes
				has_mil_advisor_2 = yes
			}
		}

		effect = {
			capital_scope = {
				add_institution_embracement = {
					which = renaissance
					value = 25
				}
			}
			define_advisor = {
				type = architect
				skill = 2
				cost_multiplier = 0.5
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					any_owned_province = {
						is_institution_origin = renaissance
					}
				}
				custom_tooltip = RMG_RENAI_OWN_YES
				change_government_reform_progress = 50
			}
			else = {
				custom_tooltip = RMG_RENAI_OWN_NO
				tooltip = {
					change_government_reform_progress = 50
				}
			}
		}
	}

	rmg_architecture_revolution = {
		icon = promote_urbanization
		required_missions = { rmg_romagnol_renaissance }
		position = 10

		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				has_tax_building_trigger = no
				NOT = { has_building = university }
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 20
				has_tax_building_trigger = yes
			}
			num_of_owned_provinces_with = {
				value = 5
				has_building = university
			}
		}

		effect = {
			change_innovativeness = 5
			add_country_modifier = {
				name = lom_urbanization
				duration = 3650
			}
			set_country_flag = rmg_uni_grant_dip
			custom_tooltip = RMG_BUILD_UNI
		}
	}

	rmg_wonders_of_italy = {
		icon = new_st_peters_basilica
		required_missions = { rmg_architecture_revolution }
		position = 11

		provinces_to_highlight = {
			owned_by = ROOT
			has_great_project = {
				type = any
			}
			NOT = {
				has_great_project = {
					type = any
					tier = 3
				}
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 5
				has_great_project = {
					type = any
					tier = 3
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = rmg_great_project_builder
				duration = -1
			}
			custom_tooltip = RMG_EVERY_GREAT_PROJECT_PROVINCE
			tooltip = {
				add_province_modifier = {
					name = rmg_wonders_of_italy_province
					duration = -1
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						region = italy_region
						has_great_project = {
							type = any
						}
					}
					add_province_modifier = {
						name = rmg_wonders_of_italy_province
						duration = -1
					}
				}
			}
		}
	}
}

romagnol_second_romagna = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RMG
			}
		}
	}
	has_country_shield = yes

	rmg_develop_ferrara = {
		icon = develop_provence
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			province_id = 113
		}
		
		trigger = {
			113 = {
				owned_by = ROOT
			}
			113 = {
				development = 30
			}
			113 = {
				has_trade_building_trigger = yes
			}
			113 = {
				has_production_building_trigger = yes
			}
			113 = {
				has_building = wharf
			}
		}
		

		effect = {
			add_years_of_trade_income = {
				years = 2
				custom_tooltip = ars_trade_income
			}
			113 = {
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					center_of_trade = 1
				}
				else_if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 3 }
					}
					add_center_of_trade_level = 1
				}
			}
			custom_tooltip = AB_EMPTY
			113 = {
				add_base_production = 2
				upgrade_production_building = yes
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					113 = {
						owned_by = ROOT
						development = 25
					}
				}
				custom_tooltip = RMG_RAVENNA_SALT_YES
				change_price = {
					trade_goods = salt
					key = rmg_salt_mines
					value = 0.25
					duration = 36500
				}
			}
			else = {
				custom_tooltip = RMG_RAVENNA_SALT_NO
				tooltip = {
					change_price = {
						trade_goods = salt
						key = rmg_salt_mines
						value = 0.25
						duration = 36500
					}
				}
			}
		}
	}
}

romagnol_second_ravenna = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_capital_of_west_rome = {
		icon = a_real_roman_empire
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			province_id = 114
		}
		
		trigger = {
			114 = {
				owned_by = ROOT
			}
			114 = {
				development = 30
			}
			114 = {
				has_tax_building_trigger = yes
			}
			114 = {
				province_has_current_tech_fort_trigger = yes
			}
			114 = {
				has_building = ramparts
			}
		}
		

		effect = {
			114 = {
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					center_of_trade = 1
				}
				else_if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 3 }
					}
					add_center_of_trade_level = 1
				}
			}
			custom_tooltip = AB_EMPTY
			114 = {
				add_base_manpower = 2
				upgrade_fort_building = yes
			}
			custom_tooltip = AB_EMPTY
			114 = {
				add_province_modifier = {
					name = rmg_capital_of_west_rome_province
					duration = -1
				}
			}
			if = {
				limit = {
					118 = {
						owned_by = ROOT
						has_great_project = {
							type = the_colloseum
							tier = 2
						}
					}
				}
				custom_tooltip = RMG_BUILD_COLOSSEUM_YES
				add_country_modifier = {
					name = rmg_heritage_west_rome
					duration = 18250
				}
			}
			else = {
				custom_tooltip = RMG_BUILD_COLOSSEUM_NO
				tooltip = {
					add_country_modifier = {
						name = rmg_heritage_west_rome
						duration = 18250
					}
				}
			}
		}
	}
}

romagnol_second_parma = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = PAR
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = PAR
			}
		}
	}
	has_country_shield = yes

	rmg_gem_of_italy = {
		icon = pontifical_universities
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			province_id = 105
		}
		
		trigger = {
			105 = {
				owned_by = ROOT
			}
			105 = {
				development = 30
			}
			105 = {
				has_trade_building_trigger = yes
			}
			105 = {
				has_courthouse_building_trigger = yes
			}
			105 = {
				has_building = university
			}
		}
		

		effect = {
			105 = {
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					center_of_trade = 1
				}
				else_if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 3 }
					}
					add_center_of_trade_level = 1
				}
			}
			custom_tooltip = AB_EMPTY
			105 = {
				add_base_tax = 1
				add_base_production = 1
				upgrade_trade_building = yes
				change_trade_goods = gems
			}
			custom_tooltip = AB_EMPTY
			105 = {
				add_province_modifier = {
					name = rmg_university_parma
					duration = -1
				}
			}
			if = {
				limit = {
					innovativeness = 25
				}
				custom_tooltip = RMG_HIGH_INNOVATIVENESS_YES
				change_government_reform_progress = 150
			}
			else = {
				custom_tooltip = RMG_HIGH_INNOVATIVENESS_NO
				tooltip = {
					change_government_reform_progress = 150
				}
			}
		}
	}
}

romagnol_second_verona = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = VRN
			}
		}
	}
	has_country_shield = yes

	rmg_romeo_juliet = {
		icon = mission_romeo
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			province_id = 108
		}
		
		trigger = {
			108 = {
				owned_by = ROOT
			}
			108 = {
				development = 30
			}
			108 = {
				has_tax_building_trigger = yes
			}
			108 = {
				has_courthouse_building_trigger = yes
			}
			108 = {
				has_building = university
			}
		}
		

		effect = {
			108 = {
				add_base_tax = 3
				add_province_modifier = {
					name = rmg_romeo_juliet_verona
					duration = -1
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					116 = {
						owned_by = ROOT
						development = 35
					}
				}
				custom_tooltip = RMG_FIRENZE_ROMEO_YES
				add_adm_tech = 1
			}
			else = {
				custom_tooltip = RMG_FIRENZE_ROMEO_NO
				tooltip = {
					add_adm_tech = 1
				}
			}
		}
	}
}

romagnol_second = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_invade_genoa = {
		icon = end_genoese_competition
		required_missions = { rmg_conquer_florence }
		position = 3

		provinces_to_highlight = {
			OR = { 
				province_id = 2992
				province_id = 101
			}
			NOT = { owned_by = ROOT }
		}
		
		trigger = {
			2992 = {
				country_or_non_sovereign_subject_holds = ROOT	
			}
			101 = {
				country_or_non_sovereign_subject_holds = ROOT	
			}
		}

		effect = {
			101 = {
				add_or_upgrade_trade_building = yes
			}
			add_country_modifier = {
				name = ivr_takeover_genoese_trade
				duration = 7300
			}
			101 = {
				add_unit_construction = {
					type = light_ship
					amount = 10
					speed = 0.5
					cost = 0
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					101 = {
						trade_share = {
							country = ROOT
							share = 50
						}
					}
				}
				custom_tooltip = IVR_TRADE_BONUS
				hidden_effect = {
					add_mercantilism = 10
				}
			}
			else = {
				custom_tooltip = IVR_TRADE_BONUS_NO
			}
		}
	}

	rmg_unite_italy = {
		icon = mission_rule_italy
		required_missions = { rmg_invade_genoa }
		position = 5
		
		trigger = {
			ab_is_italy_tag_trigger = yes
		}

		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 10
			}
			country_event = {
				id = ab_lombardy.3
			}
			if = {
				limit = {
					exists = PAP
				}
				custom_tooltip = AB_EMPTY
				add_casus_belli = {
					type = cb_vassalize_mission
					months = 300
					target = PAP
				}
			}
			custom_tooltip = AB_EMPTY
			italy_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

romagnol_second_locked = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
		}
	}
	has_country_shield = yes

	rmg_question_of_roma_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_unite_italy }
		position = 6

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_liberate_naples_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_question_of_roma_locked }
		position = 7

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_develop_naples_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_liberate_naples_locked }
		position = 9

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_urbanize_italy_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_romagnol_renaissance }
		position = 10

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_industrial_powerhouse_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_urbanize_italy_locked }
		position = 11

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}
}

romagnol_second_unlocked = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_question_of_roma = {
		icon = mission_colosseum
		required_missions = { rmg_unite_italy }
		position = 6

		provinces_to_highlight = {
			OR = {
				area = lazio_area
				owned_by = PAP
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			OR = {
				overlord_of = PAP
				NOT = { exists = PAP }
			}
			lazio_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			custom_tooltip = SWA_HOLY_WAR_ESTATE_BUFF
			set_country_flag = bra_expansionist_zealotry_buff
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					owns = 118
				}
				custom_tooltip = AB_ROME_CAPITAL
				hidden_effect = {
					118 = {
						move_capital_effect = yes
					}
				}
			}
			else = {
				custom_tooltip = AB_ROME_CAPITAL_NO
			}
			if = {
				limit = {
					118 = {
						owned_by = PAP
					}
					PAP = {
						is_subject_of = ROOT
					}
				}
				custom_tooltip = AB_ROME_POPE
				add_country_modifier = {
					name = lom_holy_see_protector
					duration = -1
				}
			}
			else = {
				custom_tooltip = AB_ROME_POPE_NO
				tooltip = {
					add_country_modifier = {
						name = lom_holy_see_protector
						duration = -1
					}
				}
			}
			custom_tooltip = AB_PAP_INTEGRATE
		}
	}

	rmg_liberate_naples = {
		icon = king_of_naples
		required_missions = { rmg_question_of_roma }
		position = 7

		provinces_to_highlight = {
			OR = {
				area = naples_area
				area = apulia_area
				area = calabria_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			naples_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			apulia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			calabria_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_army_professionalism = 0.1
			add_country_modifier = {
				name = trc_crusade_sicily
				duration = 7300
			}
			custom_tooltip = RMG_CRUSADE_SICILY
		}
	}

	rmg_develop_naples = {
		icon = develop_naples
		required_missions = { rmg_liberate_naples }
		position = 9

		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				culture = neapolitan
				culture = sicilian
			}
			NOT = { development = 15 }
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 10
				development = 15
				OR = {
					culture = neapolitan
					culture = sicilian
				}
			}
		}

		effect = {
			add_years_of_income = 3
			add_country_modifier = {
				name = rmg_developing_south
				duration = 7300
			}
			if = {
				limit = {
					121 = {
						is_prosperous = yes
					}
				}
				custom_tooltip = RMG_NAPOLI_PROSPERITY_YES
				121 = {
					add_or_upgrade_production_building = yes
					add_base_tax = 1
					add_base_production = 1
					add_base_manpower = 1
				}
			}
			else = {
				custom_tooltip = RMG_NAPOLI_PROSPERITY_NO
				tooltip = {
					121 = {
						add_or_upgrade_production_building = yes
						add_base_tax = 1
						add_base_production = 1
						add_base_manpower = 1
					}
				}
			}
		}
	}

	rmg_urbanize_italy = {
		icon = found_batavia
		required_missions = { rmg_romagnol_renaissance }
		position = 10

		provinces_to_highlight = {
			NOT = {
				development = 25
			}
			region = italy_region
			owned_by = ROOT
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 10
				region = italy_region
				development = 25
			}
		}
		
		effect = {
			add_splendor = 250
			italy_region = {
				limit = {
					owned_by = ROOT
				}
				add_province_modifier = {
					name = lom_industrial_economy
					duration = -1
				}
			}
		}
	}

	rmg_industrial_powerhouse = {
		icon = industrialized_rhineland
		required_missions = { rmg_urbanize_italy }
		position = 11

		provinces_to_highlight = {
			owned_by = ROOT
			NOT = {
				OR = {
					has_building = mills
					has_building = farm_estate
					has_building = tradecompany
					has_building = plantations
					has_building = textile
					has_building = weapons
					has_building = wharf
					has_building = furnace
				}
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 20
				OR = {
					has_building = mills
					has_building = farm_estate
					has_building = tradecompany
					has_building = plantations
					has_building = textile
					has_building = weapons
					has_building = wharf
					has_building = furnace
				}
			}
		}
		
		effect = {
			change_government_reform_progress = 100
			add_country_modifier = {
				name = lom_industrial_powerhouse
				duration = 7300
			}
			custom_tooltip = LOM_MANUFACTORIES
			hidden_effect = {		
                for = {
                    amount = 10
                    effect = "
                        random_owned_province = {
							limit = {
								OR = {
									has_building = mills
									has_building = farm_estate
									has_building = tradecompany
									has_building = plantations
									has_building = textile
									has_building = weapons
									has_building = wharf
									has_building = furnace
								}
							}
							add_base_production = 1
                        }
                    "
                }
			}
		}
	}
}

romagnol_third_starting = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_war_emilia_romagna = {
		icon = mission_italian_condottiere
		required_missions = { }
		position = 1
		
		trigger = {
			OR = {
				manpower_percentage = 1
				army_size_percentage = 1
			}
			num_of_generals = 1
		}

		effect = {
			add_army_tradition_or_mil_power = { amount = 10 }
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = rmg_war_for_emilia_modifier
				duration = 3650
			}
			emilia_romagna_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					OR = {
						tag = PAR
						was_tag = PAR
					}
				}
				if = {
					limit = {
						RVN = {
							has_opinion = {
								who = ROOT
								value = 100
							}
						}
						NOT = { has_country_flag = had_romagna_coalition }
					}
					custom_tooltip = RMG_GOOD_RELATION_WITH_RAVENNA_YES
					country_event = {
						id = ab_romagna.0
					}
				}
				else = {
					custom_tooltip = RMG_GOOD_RELATION_WITH_RAVENNA_NO
					tooltip = {
						country_event = {
							id = ab_romagna.0
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						tag = RVN
						was_tag = RVN
					}
				}
				if = {
					limit = {
						PAR = {
							has_opinion = {
								who = ROOT
								value = 100
							}
						}
						NOT = { has_country_flag = had_romagna_coalition }
					}
					custom_tooltip = RMG_GOOD_RELATION_WITH_PARMA_YES
					country_event = {
						id = ab_romagna.0
					}
				}
				else = {
					custom_tooltip = RMG_GOOD_RELATION_WITH_PARMA_NO
					tooltip = {
						country_event = {
							id = ab_romagna.0
						}
					}
				}
			}
		}
	}
}

romagnol_third_romagna = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RMG
			}
		}
	}
	has_country_shield = yes

	rmg_romagnan_victory = {
		icon = expand_to_the_south
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			area = emilia_romagna_area
			NOT = { owned_by = ROOT }
		}
		
		trigger = {
			emilia_romagna_area = {
				type = all
				owned_by = ROOT
			}
		}

		effect = {
			define_advisor = {
				type = statesman
				skill = 2
				cost_multiplier = 0.5
			}
			add_country_modifier = {
				name = rmg_unite_the_romagnol
				duration = 5475
			}
			tuscany_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			po_valley_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			108 = {
				add_permanent_claim = ROOT
			}
		}
	}

	rmg_cuisine = {
		icon = mission_pasta
		required_missions = { rmg_develop_ferrara rmg_curtail_nobles }
		position = 3

		provinces_to_highlight = {
			OR = {
				trade_goods = cocoa
				trade_goods = spices
				trade_goods = coffee
				trade_goods = tea
				trade_goods = sugar
			}
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
				NOT = { has_production_building_trigger = yes }
				NOT = { has_manufactory_trigger = yes }
			}
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					trade_goods = cocoa
					trade_goods = spices
					trade_goods = coffee
					trade_goods = tea
					trade_goods = sugar
				}
				has_production_building_trigger = yes
				has_manufactory_trigger = yes
				value = 30
			}
		}

		effect = {
			add_country_modifier = {
				name = gen_italian_cuisine
				duration = -1
			}
			4730 = {
				add_base_production = 5
				change_trade_goods = cocoa
				upgrade_production_building = yes
				add_province_modifier = {
					name = rmg_bologna_pasta
					duration = -1
				}
			}
		}
	}
}

romagnol_third_ravenna = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_ravennan_victory = {
		icon = control_the_church
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			OR = {
				area = emilia_romagna_area
				owned_by = RMG
			}
			NOT = { owned_by = ROOT }
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 3
				area = emilia_romagna_area
			}
			NOT = { exists = RMG }
		}

		effect = {
			define_advisor = {
				type = theologian
				skill = 2
				cost_multiplier = 0.5
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = rmg_ravennan_romagna
				duration = 5475
			}
			tuscany_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			po_valley_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			108 = {
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					PAR = {
						alliance_with = ROOT
						has_opinion = {
							who = ROOT
							value = 200
						}
						NOT = { total_development = ROOT }
					}
				}
				custom_tooltip = RMG_VASSALIZE_PARMA_YES
				hidden_effect = {
					vassalize = PAR
				}
			}
			else = {
				custom_tooltip = RMG_VASSALIZE_PARMA_NO
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = {
						is_year = 1450
					}
				}
				custom_tooltip = RVN_TIMED_UNLOCK_YES
				hidden_effect = {
					country_event = {
						id = ab_romagna.6
					}
				}
			}
			else = {
				custom_tooltip = RVN_TIMED_UNLOCK_NO
			}
		}
	}
}

romagnol_ravenna_timed_locked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
		NOT = { has_country_flag = rvn_mission_unlocked }
		NOT = { has_country_flag = rvn_mission_failed }
	}
	has_country_shield = yes
	
	rmg_ravenna_timed_locked = {
	    icon = mission_timed
		required_missions = { rmg_ravennan_victory }
		position = 3
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = RMG_RAVENNA_UNLOCKABLE
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = RMG_RAVENNA_UNLOCKABLE
		}
	}
}

romagnol_ravenna_timed_unlocked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
		has_country_flag = rvn_mission_unlocked
		NOT = { has_country_flag = rvn_mission_failed }
	}
	has_country_shield = yes
	
	rmg_legacy_of_west_rome = {
	    icon = a_roman_empire
		required_missions = { rmg_ravennan_victory }
		position = 3
		
		provinces_to_highlight = {
			OR = {
				owned_by = BYZ
				is_core = BYZ
				culture = greek
				province_id = 151
			}
			NOT = { owned_by = ROOT }
		}

		trigger = {
			NOT = { is_year = 1500 }
			151 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			owns_all_provinces = {
				custom_trigger_tooltip = {
					tooltip = RMG_IS_BYZ_CORE
					is_core = BYZ
				}
			}
			owns_all_provinces = {
				culture = greek
			}
			NOT = { exists = BYZ }
		}
		
		effect = {
			custom_tooltip = RMG_UNLOCK_EARLY_WESTROME
			custom_tooltip = AB_EMPTY
			france_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = {  is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			iberia_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = {  is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			cornwall_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			wessex_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			home_counties_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			wales_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			scottish_marches_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			yorkshire_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			west_midlands_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_midlands_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_anglia_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

romagnol_ravenna_timed_failed = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
		has_country_flag = rvn_mission_failed
	}
	has_country_shield = yes
}

romagnol_third_parma = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = PAR
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = PAR
			}
		}
	}
	has_country_shield = yes

	rmg_parman_victory = {
		icon = dreams_of_grandeur
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			OR = {
				area = emilia_romagna_area
				owned_by = RMG
			}
			NOT = { owned_by = ROOT }
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 3
				area = emilia_romagna_area
			}
			NOT = { exists = RMG }
		}

		effect = {
			define_advisor = {
				type = in_advisor
				skill = 2
				cost_multiplier = 0.5
			}
			add_country_modifier = {
				name = rmg_parman_romagna
				duration = 5475
			}
			tuscany_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			po_valley_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			108 = {
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					RVN = {
						alliance_with = ROOT
						has_opinion = {
							who = ROOT
							value = 200
						}
						NOT = { total_development = ROOT }
					}
				}
				custom_tooltip = RMG_VASSALIZE_RAVENNA_YES
				hidden_effect = {
					vassalize = RVN
				}
			}
			else = {
				custom_tooltip = RMG_VASSALIZE_RAVENNA_NO
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = {
						is_year = 1450
					}
				}
				custom_tooltip = PAR_TIMED_UNLOCK_YES
				hidden_effect = {
					country_event = {
						id = ab_romagna.4
					}
				}
			}
			else = {
				custom_tooltip = PAR_TIMED_UNLOCK_NO
			}
		}
	}
}

romagnol_parma_timed_locked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = PAR
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = PAR
			}
		}
		NOT = { has_country_flag = par_mission_unlocked }
		NOT = { has_country_flag = par_mission_failed }
	}
	has_country_shield = yes
	
	rmg_parma_timed_locked = {
	    icon = mission_timed
		required_missions = { rmg_parman_victory }
		position = 3
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = RMG_PARMA_UNLOCKABLE
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = RMG_PARMA_UNLOCKABLE
		}
	}
}

romagnol_parma_timed_unlocked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = PAR
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = PAR
			}
		}
		has_country_flag = par_mission_unlocked
		NOT = { has_country_flag = par_mission_failed }
	}
	has_country_shield = yes
	
	rmg_lion_of_parma = {
	    icon = mission_lion
		required_missions = { rmg_parman_victory }
		position = 3
		
		provinces_to_highlight = {
			region = italy_region
			NOT = { owned_by = ROOT }
		}

		trigger = {
			ab_is_italy_tag_trigger = yes
			NOT = { is_year = 1500 }
			italy_region = {
				type = all
				owned_by = ROOT
			}
			is_great_power = yes
			in_golden_age = yes
		}
		
		effect = {
			custom_tooltip = BOH_GOLDEN_AGE
			hidden_effect = {
				extend_golden_age = 600
			}
			add_country_modifier = {
				name = rmg_parmalion
				duration = 36500
			}
		}
	}
}

romagnol_parma_timed_failed = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = PAR
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = PAR
			}
		}
		has_country_flag = par_mission_failed
	}
	has_country_shield = yes
}

romagnol_third_verona = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = VRN
			}
		}
	}
	has_country_shield = yes

	rmg_veronese_victory = {
		icon = develop_the_po_valley
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			area = emilia_romagna_area
			NOT = { owned_by = ROOT }
		}
		
		trigger = {
			emilia_romagna_area = {
				type = all
				owned_by = ROOT
			}
		}

		effect = {
			add_accepted_culture_or_dip_power = {
				culture = romagnan
			}
			custom_tooltip = RMG_VERONA_INTEGRATE_ROMAGNOL
			hidden_effect = {
				every_owned_province = {
					limit = {
						culture = romagnan
					}
					add_nationalism = -20
				}
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = rmg_unexpected_verona
				duration = 5475
			}
			tuscany_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rmg_police_state = {
		icon = mission_italian_condottiere
		required_missions = { rmg_romeo_juliet rmg_burghers_rule }
		position = 3
		
		trigger = {
			absolutism = 50
			NOT = { average_autonomy = 10 }
			NOT = {
				any_owned_province = {
					unrest = 1
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = rmg_police_state_modifier
				duration = -1
			}
			custom_tooltip = TRC_NAT_DEV
			hidden_effect = {
                for = {
                    amount = 10
                    effect = "
                        random_owned_province = {
							limit = {
								culture_group = latin
							}
							add_base_manpower = 1
                        }
                    "
                }
			}
		}
	}
}

romagnol_third_locked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
		}
	}
	has_country_shield = yes

	rmg_slovenia_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_end_venice }
		position = 4

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_croatia_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_slovenia_locked }
		position = 5

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_unite_latin_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_unite_italy rmg_dalmatia }
		position = 6

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_mare_nostrum_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_unite_latin_locked }
		position = 8

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}
}

romagnol_third_unlocked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_slovenia = {
		icon = capture_adriatic_ports
		required_missions = { rmg_end_venice }
		position = 4

		provinces_to_highlight = {
			area = carinthia_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			carinthia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_yearly_manpower = 3
			add_country_modifier = {
				name = rmg_balkan_campaign
				duration = 5475
			}
			change_monarch_points_or_power = {
				points = 2
				power = dip
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					exists = CRO
				}
				add_casus_belli = {
					type = cb_vassalize_mission
					months = 300
					target = CRO
				}
			}
			else = {
				croatia_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
				slavonia_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
				bosnia_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					4738 = {
						development = 20
						has_trade_building_trigger = yes
					}
				}
				custom_tooltip = RMG_TRIESTE_HIGH_DEV_YES
				4738 = {
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					else_if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 3 }
						}
						add_center_of_trade_level = 1
					}
				}
			}
			else = {
				custom_tooltip = RMG_TRIESTE_HIGH_DEV_NO
				tooltip = {
					4738 = {
						if = {
							limit = {
								NOT = { province_has_center_of_trade_of_level = 1 }
							}
							center_of_trade = 1
						}
						else_if = {
							limit = {
								NOT = { province_has_center_of_trade_of_level = 3 }
							}
							add_center_of_trade_level = 1
						}
					}
				}
			}
		}
	}

	rmg_croatia = {
		icon = secure_the_sava
		required_missions = { rmg_slovenia }
		position = 5

		provinces_to_highlight = {
			OR = {
				owned_by = CRO
				area = croatia_area
				area = slavonia_area
				area = bosnia_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			OR = {
				overlord_of = CRO
				AND = {
					croatia_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					slavonia_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					bosnia_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = rvn_bulwark_of_catholicism
				duration = 9125
			}
			balkan_region = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_base_manpower = 1
			}
			if = {
				limit = {
					accepted_culture = croatian
				}
				custom_tooltip = SER_ACCEPTED_CROATIAN
				hidden_effect = {
					every_owned_province = {
						limit = {
							culture = croatian
						}
						add_nationalism = -20
					}
				}
			}
			else = {
				custom_tooltip = SER_ACCEPTED_CROATIAN_NO
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					overlord_of = CRO
				}
				custom_tooltip = RMG_OVERLORD_CRO_YES
				add_country_modifier = {
					name = rmg_integrate_pandurs
					duration = 7300
				}
			}
			else = {
				custom_tooltip = RMG_OVERLORD_CRO_NO
				tooltip = {
					add_country_modifier = {
						name = rmg_integrate_pandurs
						duration = 7300
					}
				}
			}
		}
	}

	rmg_unite_latin = {
		icon = complete_the_risorgimento
		required_missions = { rmg_unite_italy rmg_dalmatia }
		position = 6

		trigger = {
			owns_all_provinces = {
				culture_group = latin
			}
		}
		
		provinces_to_highlight = {
			culture_group = latin
			NOT = {
				owned_by = ROOT
			}
		}
		
		effect = {
			italy_region = {
				limit = {
					owned_by = ROOT
				}
				add_base_production = 1
			}
			add_country_modifier = {
				name = trc_risorgimento
				duration = 9125
			}
			custom_tooltip = TRC_NAT_DEV
			hidden_effect = {
                for = {
                    amount = 10
                    effect = "
                        random_owned_province = {
							limit = {
								culture_group = latin
							}
							add_base_manpower = 1
                        }
                    "
                }
			}
		}
	}

	rmg_mare_nostrum = {
		icon = mission_mare_nostrum
		required_missions = { rmg_unite_latin }
		position = 8

		provinces_to_highlight = {
			is_capital = yes
			owner = {
				any_owned_province = {
					has_port = yes
					sea_zone = {
						OR = {
							area = western_mediterrenean_area
							area = eastern_mediterrenean_area
						}
					}
				}
				navy_size = ROOT
			}
		}
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = AB_MARE_NOSTRUM
				NOT = {
					any_known_country = {
						any_owned_province = {
							has_port = yes
							sea_zone = {
								OR = {
									area = western_mediterrenean_area
									area = eastern_mediterrenean_area
								}
							}
						}
						navy_size = ROOT
					}
				}
			}
		}
		
		effect = {
			custom_tooltip = LOM_ADMIRAL
			set_country_flag = ab_admiral_gives_naval_tradition
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = lom_marenostrum
				duration = -1
			}
			define_advisor = {
				type = naval_reformer
				skill = 3
				cost_multiplier = 0.5
			}
		}
	}
}

romagnol_third_army = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_scout_army = {
		icon = the_hundred_years_war
		required_missions = { }
		position = 10

		trigger = {
			has_global_modifier_value = { 
				which = cavalry_power
				value = 0.1
			}
			num_of_cavalry = 15
		}

		effect = {
			add_country_modifier = {
				name = rmg_ricognizio
				duration = 7300
			}
			custom_tooltip = RMG_WINNING_BATTLE
		}
	}
}

romagnol_fourth_romagna = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RMG
			}
		}
	}
	has_country_shield = yes

	rmg_curtail_nobles = {
		icon = rein_in_the_nobles
		required_missions = { rmg_war_emilia_romagna }
		position = 2
		
		trigger = {
			crown_stronger_than_estate = { estate = estate_church }
			crown_stronger_than_estate = { estate = estate_nobles }
			crown_stronger_than_estate = { estate = estate_burghers }
			absolutism = 20
		}

		effect = {
			custom_tooltip = add_5_crown_land_share
			hidden_effect = {
				change_estate_land_share = {
					estate = all
					share = -5
				}
			}
			add_country_modifier = {
				name = rmg_undisputed_authority
				duration = 36500
			}
		}
	}
}

romagnol_fourth_ravenna = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_clergy_rule = {
		icon = support_the_orders
		required_missions = { rmg_war_emilia_romagna }
		position = 2
		
		trigger = {
			num_of_estate_privileges = {
				estate = estate_church
				value = 4
			}
			crown_stronger_than_estate = { estate = estate_nobles }
			crown_stronger_than_estate = { estate = estate_burghers }
		}

		effect = {
			change_estate_land_share = {
				estate = estate_church
				share = 10
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = RMG_SCALING_THEOLOGIAN
			custom_tooltip = AB_EMPTY
			set_country_flag = rmg_religious_culture_flag
			custom_tooltip = RMG_RELIGIOUS_CULTURE_BUFF
		}
	}
}

romagnol_fourth_parma = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = PAR
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = PAR
			}
		}
	}
	has_country_shield = yes

	rmg_share_power = {
		icon = balance_the_estates
		required_missions = { rmg_war_emilia_romagna }
		position = 2
		
		trigger = {
			num_of_estate_privileges = {
				estate = estate_church
				value = 2
			}
			num_of_estate_privileges = {
				estate = estate_nobles
				value = 2
			}
			num_of_estate_privileges = {
				estate = estate_burghers
				value = 2
			}
		}

		effect = {
			add_country_modifier = {
				name = rmg_powerful_estate
				duration = 36500
			}
			custom_tooltip = RMG_POWERFUL_ESTATE
		}
	}
}

romagnol_fourth_verona = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = VRN
			}
		}
	}
	has_country_shield = yes

	rmg_burghers_rule = {
		icon = mission_lit_reform_magdeburg_laws
		required_missions = { rmg_war_emilia_romagna }
		position = 2
		
		trigger = {
			num_of_estate_privileges = {
				estate = estate_burghers
				value = 4
			}
			crown_stronger_than_estate = { estate = estate_church }
			crown_stronger_than_estate = { estate = estate_nobles }
		}

		effect = {
			change_estate_land_share = {
				estate = estate_burghers
				share = 10
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = RMG_SCALING_TRADER
			custom_tooltip = AB_EMPTY
			set_country_flag = rmg_monetary_policy_no_power_cost_flag
			custom_tooltip = RMG_MONETARY_POLICY_NO_POWER
		}
	}
}

romagnol_fourth = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = RVN
					was_tag = PAR
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_end_venice = {
		icon = mission_control_venice
		required_missions = { rmg_into_po_valley }
		position = 3

		provinces_to_highlight = {
			area = venetia_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			OR = {
				venetia_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT	
				}
				navy_size = VEN
			}
		}

		effect = {
			add_mercantilism_or_monarch_power = { amount = 5 }
			custom_tooltip = AB_EMPTY
			112 = {
				add_trade_modifier = {
					who = ROOT
					duration = -1
					power = 25
					key = lom_venice_control
				}
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = gen_dismantled
				duration = 7300
			}
			carinthia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_adriatic_coast_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rmg_dalmatia = {
		icon = dalmatian_conquest
		required_missions = { rmg_end_venice }
		position = 5

		provinces_to_highlight = {
			area = east_adriatic_coast_area
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
				NOT = { base_production = 6 }
			}
		}
		
		trigger = {
			east_adriatic_coast_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				base_production = 6
			}
		}
		
		effect = {
			east_adriatic_coast_area = {
				add_base_tax = 1
			}
			137 = {
				add_great_project_tier = {
					type = walls_ston
					tier = 1
				}
			}
			custom_tooltip = AB_EMPTY
			serbia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			rascia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			northern_greece_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			morea_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = RUM_BALKAN_SER
			hidden_effect = {
				if = {
					limit = {
						exists = SER
					}
					add_casus_belli = {
						type = cb_vassalize_mission
						months = 300
						target = SER
					}
				}	
			}
		}
	}
}

romagnol_fourth_locked = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
		}
	}
	has_country_shield = yes

	rmg_serbia_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_dalmatia }
		position = 7

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_bulgaria_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_serbia_locked rmg_latin_empire_locked }
		position = 8

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}
}

romagnol_fourth_unlocked = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_serbia = {
		icon = defeat_the_serbs
		required_missions = { rmg_dalmatia }
		position = 7

		provinces_to_highlight = {
			culture = serbian
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			OR = {
				owns_all_provinces = {
					culture = serbian
				}
				overlord_of = SER
			}
		}

		effect = {
			add_country_modifier = {
				name = rmg_integrate_hajduks
				duration = 7300
			}
			custom_tooltip = CRO_SERBIA
			tooltip = {
				add_province_modifier = {
					name = cro_catholicise_serbs
					duration = 7300
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						culture = serbian
					}
					add_province_modifier = {
						name = cro_catholicise_serbs
						duration = 7300
					}
					add_local_autonomy = -50
				}
			}
			balkan_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					has_country_modifier = rmg_integrate_pandurs
				}
				custom_tooltip = RMG_HAVE_2_SLAVIC_BUFF_YES
				hidden_effect = {
					remove_country_modifier = rmg_integrate_hajduks
					remove_country_modifier = rmg_integrate_pandurs
					add_country_modifier = {
						name = rmg_integrate_pandurs
						duration = -1
					}
					add_country_modifier = {
						name = rmg_integrate_hajduks
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = RMG_HAVE_2_SLAVIC_BUFF_NO
			}
		}
	}

	rmg_bulgaria = {
		icon = mission_balkan_conquest
		required_missions = { rmg_serbia rmg_latin_empire }
		position = 8

		provinces_to_highlight = {
			region = balkan_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			balkan_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			custom_tooltip = SER_JUSTINIAN_PP
			hidden_effect = {
				add_power_projection = {
					type = RMG_perma_pp
					amount = 25
				}
			}
			custom_tooltip = AB_EMPTY
			unlock_estate_privilege = {
				estate_privilege = estate_burghers_italo_balkan_unity
			}
			custom_tooltip = AB_EMPTY
			anatolia_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

romagnol_fourth_tall = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = RVN
					was_tag = PAR
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_northern_prosperity = {
		icon = reclaim_the_ducal_lands
		required_missions = { }
		position = 9

		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				NOT = { development = 15 }
				has_production_building_trigger = no
				has_trade_building_trigger = no
			}
			OR = {
				culture = romagnan
				culture = lombard
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 10
				development = 15
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				OR = {
					culture = romagnan
					culture = lombard
				}
			}
		}

		effect = {
			add_adm_power = 100
			add_years_of_income = 2
			custom_tooltip = AB_EMPTY
			custom_tooltip = RMG_EVERY_15_NORTHERN_PROVINCE
			tooltip = {
				add_base_production = 2
				add_province_modifier = {
					name = rmg_northern_prosperity_province
					duration = 9125
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						development = 15
						OR = {
							culture = romagnan
							culture = lombard
						}
					}
					add_base_production = 2
					add_province_modifier = {
						name = rmg_northern_prosperity_province
						duration = 9125
					}
				}
			}
		}
	}

	rmg_cannons_of_mantova = {
		icon = mission_guns_of_urban
		required_missions = { rmg_northern_prosperity }
		position = 10

		provinces_to_highlight = {
			province_id = 109
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { development = 22 }
				has_manpower_building_trigger = no
				has_forcelimit_building_trigger = no
			}
		}

		trigger = {
			109 = {
				owned_by = ROOT
			}
			109 = {
				development = 22
			}
			109 = {
				has_manpower_building_trigger = yes
			}
			109 = {
				has_forcelimit_building_trigger = yes
			}
			has_global_modifier_value = { 
				which = artillery_power
				value = 0.1
			}
			num_of_artillery = 20
		}

		effect = {
			add_mil_tech = 1
			add_country_modifier = {
				name = rmg_superior_firepower
				duration = 7300
			}
			109 = {
				add_base_manpower = 3
				upgrade_manpower_building = yes
				upgrade_forcelimit_building = yes
				change_trade_goods = iron
			}
		}
	}

	rmg_italian_warfare = {
		icon = mission_thirty_years_war
		required_missions = { rmg_scout_army rmg_cannons_of_mantova }
		position = 11

		trigger = {
			army_size = 200
			army_professionalism = 1
			army_tradition = 100
			has_global_modifier_value = { 
				which = discipline
				value = 0.15
			}
		}

		effect = {
			create_general = { tradition = 100 }
			create_general = { tradition = 80 }
			add_country_modifier = {
				name = rmg_army_academy
				duration = -1
			}
			custom_tooltip = RMG_WINNING_WAR_REDUCE_AE
		}
	}
}

romagnol_fifth = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = RVN
					was_tag = PAR
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_into_po_valley = {
		icon = sweep_the_po
		required_missions = { rmg_war_emilia_romagna }
		position = 2

		provinces_to_highlight = {
			OR = {
				area = po_valley_area
				province_id = 108
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 3
				OR = {
					area = po_valley_area
					province_id = 108
				}
				if = {
					limit = {
						ROOT = {
							OR = {
								tag = VRN
								was_tag = VRN
							}
						}
					}
					base_manpower = 5
				}
			}
		}

		effect = {
			if = {
				limit = {
					OR = {
						tag = VRN
						was_tag = VRN
					}
				}
				define_advisor = {
					type = commandant
					skill = 1
					discount = yes
				}
				custom_tooltip = AB_EMPTY
			}
			else = {
				custom_tooltip = LOM_REINTEGRATION
				tooltip = {
					add_province_modifier = {
						name = lom_reintegration_po
						duration = 3650
					}
				}
				hidden_effect = {
					po_valley_area = {
						limit = {
							country_or_non_sovereign_subject_holds = ROOT
						}
						add_province_modifier = {
							name = lom_reintegration_po
							duration = 3650
						}
					}
					108 = {
						if = {
							limit = {
								country_or_non_sovereign_subject_holds = ROOT
							}
						}
						add_province_modifier = {
							name = lom_reintegration_po
							duration = 3650
						}
					}
				}
			}
			custom_tooltip = BRA_AE
			hidden_effect = {
				every_country = {
					limit = {
						is_part_of_hre = yes
					}
					add_aggressive_expansion = {
						who = ROOT
						value = -10
						apply_calc = no
					}
				}
			}
			lombardy_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			piedmont_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			venetia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			110 = {
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					OR = {
						is_rival = LOM
						is_enemy = LOM
					}
				}
				custom_tooltip = IVR_RIVAL_LOMBARDY_YES
				hidden_effect = {
					add_casus_belli = {
						type = cb_vassalize_mission
						months = 300
						target = LOM
					}
				}
			}
			else = {
				custom_tooltip = IVR_RIVAL_LOMBARDY_NO
			}
		}
	}

	rmg_unite_north = {
		icon = mission_italian_conquest
		required_missions = { rmg_into_po_valley }
		position = 4

		provinces_to_highlight = {
			OR = {
				area = lombardy_area
				area = piedmont_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			lombardy_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			piedmont_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_dip_power = 100
			add_country_modifier = { 
				name = trc_consolidate_italy
				duration = 5475
			}
			if = {
				limit = {
					LOM = {
						is_subject_of = ROOT
						is_elector = yes
					}
				}
				custom_tooltip = IVR_OVERLORD_LOMBARDY_YES
				hidden_effect = {
					LOM = {
						elector = no
					}
					elector = yes
				}
			}
			else = {
				custom_tooltip = IVR_OVERLORD_LOMBARDY_NO
			}
			if = {
				limit = {
					NOT = {
						any_country = {
							capital_scope = {
								region = italy_region
							}
							total_development = ROOT
						}
					}
				}
				custom_tooltip = TRC_MOST_DEV_YES
				add_prestige_or_monarch_power = { amount = 25 }
			}
			else = {
				custom_tooltip = TRC_MOST_DEV_NO
				tooltip = {
					add_prestige_or_monarch_power = { amount = 25 }
				}
			}
		}
	}

	rmg_fortify_alps = {
		icon = fortress_switzerland
		required_missions = { rmg_unite_north }
		position = 5

		provinces_to_highlight = {
			OR = {
				province_id = 102
				province_id = 103
				province_id = 4740
				province_id = 110
			}
			OR = {
				NOT = { owned_by = ROOT }
				province_has_current_tech_fort_trigger = no
			}
		}
		
		trigger = {
			102 = {
				owned_by = ROOT
				province_has_current_tech_fort_trigger = yes
			}
			103 = {
				owned_by = ROOT
				province_has_current_tech_fort_trigger = yes
			}
			4740 = {
				owned_by = ROOT
				province_has_current_tech_fort_trigger = yes
			}
			110 = {
				owned_by = ROOT
				province_has_current_tech_fort_trigger = yes
			}
		}

		effect = {
			custom_tooltip = RMG_ALL_NORTHERN_FORT_PROVINCE
			tooltip = {
				add_province_modifier = {
					name = rmg_fortress_italy
					duration = -1
				}
			}
			hidden_effect = {
				102 = {
					add_province_modifier = {
						name = rmg_fortress_italy
						duration = -1
					}
				}
				103 = {
					add_province_modifier = {
						name = rmg_fortress_italy
						duration = -1
					}
				}
				4740 = {
					add_province_modifier = {
						name = rmg_fortress_italy
						duration = -1
					}
				}
				110 = {
					add_province_modifier = {
						name = rmg_fortress_italy
						duration = -1
					}
				}
			}
			define_advisor = {
				type = fortification_expert
				skill = 3
				cost_multiplier = 0.5
			}
			custom_tooltip = AB_EMPTY
			set_country_flag = hab_fort_advisor_buff_flag
			custom_tooltip = HAB_FORT_ADVISOR_NOW_GRANTS_FORT_MAINTENANCE_PER_LEVEL
		}
	}
}

romagnol_fifth_locked = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RMG
			tag = RVN
			tag = PAR
			tag = VRN
		}
	}
	has_country_shield = yes

	rmg_greece_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_dalmatia }
		position = 6

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_latin_empire_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_greece_locked }
		position = 7

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_jerusalem_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_latin_empire_locked }
		position = 9

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}

	rmg_balkan_metropolises_locked = {
		icon = mission_locked_mission
		required_missions = { rmg_northern_prosperity }
		position = 10

		trigger = {
			custom_trigger_tooltip = {
				tooltip = LOM_UNLOCKABLE2
				has_country_flag = crn_you_cant_get_this
			}
		}
		
		effect = {
			custom_tooltip = LOM_UNLOCKABLE2
		}
	}
}

romagnol_fifth_unlocked = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			AND = {
				ab_is_italy_tag_trigger = yes
				OR = {
					was_tag = RMG
					was_tag = PAR
					was_tag = RVN
					was_tag = VRN
				}
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rmg_greece = {
		icon = retake_thessaly
		required_missions = { rmg_dalmatia }
		position = 6

		provinces_to_highlight = {
			OR = {
				area = northern_greece_area
				area = morea_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			northern_greece_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			morea_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			change_price = {
				trade_goods = silk
				key = steal_greek_silk
				value = 0.15
				duration = -1
			}
			custom_tooltip = AB_EMPTY
			random_owned_province = {
				limit = {
					region = italy_region
					trade_goods = livestock
				}
				add_base_production = 3
				change_trade_goods = silk
				add_province_modifier = {
					name = rmg_greek_silk
					duration = -1
				}
			}
			151 = {
				add_permanent_claim = ROOT
			}
		}
	}

	rmg_latin_empire = {
		icon = take_constantinople
		required_missions = { rmg_greece }
		position = 7

		provinces_to_highlight = {
			province_id = 151
			NOT = { owned_by = ROOT }
		}
		
		trigger = {
			151 = {
				owned_by = ROOT
			}
		}

		effect = {
			country_event = {
				id = ab_jerusalem.5
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = alb_aegean_domination
				duration = 9125
			}
			crimea_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			mashriq_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					OR = {
						tag = RVN
						was_tag = RVN
					}
				}
				custom_tooltip = RMG_START_AS_RAVENNA_YES
				add_country_modifier = {
					name = rmg_successor_of_romans
					duration = -1
				}
			}
			else = {
				custom_tooltip = RMG_START_AS_RAVENNA_NO
				tooltip = {
					add_country_modifier = {
						name = rmg_successor_of_romans
						duration = -1
					}
				}
			}
		}
	}

	rmg_jerusalem = {
		icon = jerusalem
		required_missions = { rmg_latin_empire }
		position = 9

		provinces_to_highlight = {
			area = palestine_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
		    palestine_area = {
			    type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			379 = {
				if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 1 }
					}
					center_of_trade = 1
				}
				else_if = {
					limit = {
						NOT = { province_has_center_of_trade_of_level = 3 }
					}
					add_center_of_trade_level = 1
				}
				add_province_modifier = {
					name = koj_jewel_of_orient
					duration = -1
				}
			}
			add_country_modifier = {
				name = lat_jerusalem
				duration = 9125
			}
			egypt_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					KOJ = {
						is_subject_of = ROOT
						owns = 379
					}
				}
				custom_tooltip = RMG_KOJ_OWN_PALESTINE_YES
				add_country_modifier = {
					name = ibe_jerusalem_alliance
					duration = -1
				}
			}
			else = {
				custom_tooltip = RMG_KOJ_OWN_PALESTINE_NO
				tooltip = {
					add_country_modifier = {
						name = ibe_jerusalem_alliance
						duration = -1
					}
				}
			}
		}
	}

	rmg_balkan_metropolises = {
		icon = despot_stefans_legacy
		required_missions = { rmg_northern_prosperity }
		position = 10

		provinces_to_highlight = {
			NOT = { development = 25 }
			region = balkan_region
			owned_by = ROOT
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 6
				region = balkan_region
				development = 25
			}
		}

		effect = {
			add_absolutism = 10
			add_legitimacy = 25
			add_devotion = 25
			add_republican_tradition = 25
			add_country_modifier = {
				name = rmg_co_prosperity_sphere
				duration = 18250
			}
			custom_tooltip = RMG_NEW_BALKAN_UNITY
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_province_modifier = rmg_balkan_unity
					}
					remove_province_modifier = rmg_balkan_unity
					add_province_modifier = {
						name = rmg_balkan_unity_buffed
						duration = -1
					}
				}
			}
		}
	}
}

# Eastern
ravenna_first_eastern = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_andalusia = {
		icon = mission_reclaim_andalucia
		required_missions = { }
		position = 12
	
		provinces_to_highlight = {
			region = iberia_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = iberia_region
				value = 40
			}
		}
		
		effect = {
			custom_tooltip = AQT_ANDALUSIAN_REMOVED
			add_country_modifier = {
				name = wls_avenging_valencia
				duration = 9125
			}
			iberia_region = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_base_production = 1
			}
			hidden_effect = {
				every_province = {
					limit = {
						region = iberia_region
						culture = andalucian
					}
					add_devastation = 10
					add_base_tax = -1
					add_base_production = -1
					add_base_manpower = -1
					if = {
						limit = {
							OR = {
								area = valencia_area
								area = baleares_area
							}
						}
						change_culture = Valencian
					}
					else_if = {
						limit = {
							OR = {
								area = beieras_area
								area = alentejo_area
							}
						}
						change_culture = Lusitanian
					}
					else_if = {
						limit = {
							area = extremadura_area
						}
						change_culture = leonese
					}
					else = {
						change_culture = castillian
					}
				}
			}
			custom_tooltip = BYZ_EXPLO
			tooltip = {
				add_country_modifier = {
					name = byzantium_unknown
					duration = 7300
				}
			}
			hidden_effect = {
				if = {
					limit = {
						1975 = {
							trade_share = {
								country = ROOT
								share = 50
							}
						}
					}
					add_country_modifier = {
						name = byzantium_unknown
						duration = 7300
					}
				}
			}
		}
	}
}

ravenna_second_eastern = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_defeat_heptarchy = {
		icon = mission_frankishengland
		required_missions = { rvn_conquest_of_gaul }
		position = 12
	
		provinces_to_highlight = {
			OR = {
				area = cornwall_area
				area = wessex_area
				area = home_counties_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = cornwall_area
					area = wessex_area
					area = home_counties_area
				}
				value = 6
			}
		}
		
		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
			add_country_modifier = { 
				name = aqt_invasion_of_england
				duration = 5475
			}
			british_isles_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					ENG = {
						OR = {
							is_rival = ROOT
							is_enemy = ROOT
						}
					}
				}
				custom_tooltip = RIVAL_ENG_YES
				add_country_modifier = {
					name = wls_dragons
					duration = 9125
				}
			}
			else = {
				custom_tooltip = RIVAL_ENG_NO
				tooltip = {
					add_country_modifier = {
						name = wls_dragons
						duration = 9125
					}
				}
			}
		}
	}
}

ravenna_third_eastern = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_conquest_of_gaul = {
		icon = centralize_france
		required_missions = { }
		position = 11

		provinces_to_highlight = {
			region = france_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = france_region
				value = 50
			}
		}
		
		effect = {
			change_innovativeness = 5
			france_region = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_nationalism = -10
			}
			add_country_modifier = {
				name = byzantium_carolingian
				duration = 9125
			}
			low_countries_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			south_german_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			if = {
				limit = {
					FRC = {
						humiliated_by = ROOT
					}
				}
				custom_tooltip = GER_HUMILIATE_FRC_YES
				add_prestige_or_monarch_power = {
					amount = 30
				}
			}
			else = {
				custom_tooltip = GER_HUMILIATE_FRC_NO
				tooltip = {
					add_prestige_or_monarch_power = {
						amount = 30
					}
				}
			}
		}
	}

	rvn_imperial_restoration = {
		icon = mission_westrome
		required_missions = { rvn_andalusia rvn_defeat_heptarchy }
		position = 13
				
		provinces_to_highlight = {
			OR = {
				region = france_region
				region = iberia_region
				area = scottish_marches_area
				area = yorkshire_area
				area = wales_area
				area = west_midlands_area
				area = east_midlands_area
				area = east_anglia_area
				area = home_counties_area
				area = wessex_area
				area = cornwall_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			france_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			iberia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			cornwall_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			wessex_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			home_counties_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			wales_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			scottish_marches_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			yorkshire_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			west_midlands_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			east_midlands_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			east_anglia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		effect = {
			add_dip_tech = 1
			add_country_modifier = {
				name = vsg_restore_west_empire
				duration = -1
			}
			unlock_estate_privilege = {
				estate_privilege = estate_nobles_theme_system
			}
			custom_tooltip = AB_EMPTY
			carpathia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_schism = {
		icon = mission_pf_cross
		required_missions = { rvn_imperial_restoration rvn_control_maghreb }
		position = 15
		
		provinces_to_highlight = {
			OR = {
				region = italy_region
				region = iberia_region
				region = balkan_region
				region = anatolia_region
				region = egypt_region
				area = palestine_area
				area = syria_area
				area = aleppo_area
			}
			NOT = { religion = catholic }
		}
		
		trigger = {
			tag = ROM
			OR = {
				is_papal_controller = yes
				NOT = { exists = PAP }
			}
			papal_influence = 100
			italy_region = {
				type = all
				religion = catholic
			}
			iberia_region = {
				type = all
				religion = catholic
			}
			balkan_region = {
				type = all
				religion = catholic
			}
			anatolia_region = {
				type = all
				religion = catholic
			}
			egypt_region = {
				type = all
				religion = catholic
			}
			palestine_area = {
				type = all
				religion = catholic
			}
			syria_area = {
				type = all
				religion = catholic
			}
			aleppo_area = {
				type = all
				religion = catholic
			}
		}
		
		effect = {
			add_prestige_or_monarch_power = { amount = 50 }
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = pap_schism_mended
				duration = 18250
			}
			custom_tooltip = PAP_SCHISM_TOOLTIP
			hidden_effect = {
				every_country = {
					limit = {
						religion = orthodox
					}
					country_event = {
						id = flavor_pap.11
					}
				}
			}
			custom_tooltip = AB_EMPTY
			ruthenia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_claim = ROOT
			}
			russia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_claim = ROOT
			}
			custom_tooltip = LAT_ORTHODOX_CLAIMS
			hidden_effect = {
				every_province = {
					limit = {
						religion = orthodox
					}
					add_claim = ROOT
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					exists = UKR
				}
				custom_tooltip = UKR_EXIST_YES
				add_casus_belli = {
					target = UKR
					type = cb_establish_diocese
					months = 300
				}
			}
			else = {
				custom_tooltip = UKR_EXIST_NO
				tooltip = {
					add_casus_belli = {
						target = UKR
						type = cb_establish_diocese
						months = 300
					}
				}
			}
		}
	}

	rvn_rus_union = {
		icon = mission_rule_ruthenia
		position = 17
		required_missions = { rvn_schism }

		provinces_to_highlight = {
			OR = {
				province_id = 280
				province_id = 295
				province_id = 310
				if = {
					limit = {
						exists = UKR
					}
					owned_by = UKR
				}
				else = {
					owner = {
						has_reform = principality
					}
				}
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			owns_or_non_sovereign_subject_of = 280
			owns_or_non_sovereign_subject_of = 295
			owns_or_non_sovereign_subject_of = 310
			if = {
				limit = {
					exists = UKR
				}
				UKR = {
					is_subject_of = ROOT
					has_opinion = {
						who = ROOT
						value = 200
					}
					NOT = { liberty_desire = 50 }
				}
			}
			else = {
				calc_true_if = {
					all_subject_country = {
						has_reform = principality
						has_opinion = {
							who = ROOT
							value = 200
						}
						NOT = { liberty_desire = 50 }
					}
					amount = 3
				}
			}
		}

		effect = {
			custom_tooltip = AB_DIOCESE_RUSSIA_CB
			add_country_modifier = {
				name = byz_rus_tsar
				duration = -1
			}
			custom_tooltip = BYZ_UNION_25_YEARS
			tooltip = {
				country_event = {
					id = ab_byzantium.65
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = {
						exists = UKR
					}
					calc_true_if = {
						all_subject_country = {
							has_reform = principality
							is_subject_of = ROOT
						}
						amount = 3
					}
				}
				custom_tooltip = BYZ_UNION_PRINCES_YES
			}
			else = {
				custom_tooltip = BYZ_UNION_PRINCES_NO
			}
			hidden_effect = {
				TLW_establish_diocese_russia_effect = yes
				country_event = {
					id = ab_byzantium.65
					days = 9125
				}
			}
		}
	}
}

ravenna_fourth_eastern = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_belgica = {
	    icon = ned_dykes
		required_missions = { rvn_conquest_of_gaul }
		position = 12
		
		trigger = {
		    low_countries_region = {
			    type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		provinces_to_highlight = {
			region = low_countries_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			country_event = {
				id = ab_byzantium.63
			}
			custom_tooltip = AB_EMPTY
			97 = {
				add_great_project_tier = {
					type = dutch_polders
					tier = 1
				}
				add_great_project_tier = {
					type = amsterdam_bourse
					tier = 1
				}
			}
		}
	}

	rvn_germany = {
		icon = the_imperial_border
		required_missions = { rvn_belgica rvn_south_germany }
		position = 13
		
		provinces_to_highlight = {
			OR = {
				region = north_german_region
				region = south_german_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 80
				OR = {
					region = north_german_region
					region = south_german_region
				}
			}
		}
		
		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
			add_country_modifier = {
				name = byz_german_conquest
				duration = -1
			}
			scandinavia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_control_maghreb = {
		icon = mission_combat_barbary_piracy
		position = 14
		required_missions = { rvn_egypt }
	
		trigger = {
			tunisia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			djerba_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			tripolitania_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			northern_morocco_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			kabylia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			barbary_coast_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
		}
		
		provinces_to_highlight = {
			OR = {
				area = djerba_area
				area = tunisia_area
				area = tripolitania_area
				area = northern_morocco_area
				area = kabylia_area
				area = barbary_coast_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			add_navy_tradition = 20
			add_country_modifier = {
				name = byzantium_sons
				duration = 7300
			}
			set_country_flag = lat_burgher_force_draft_buff
			custom_tooltip = LAT_BURGHER_FORCE_DRAFT_PRIVILEGE
		}
	}
}

ravenna_fifth_eastern = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
			AND = {
				tag = ROM
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_south_germany = {
		icon = revenge_for_nicopolis
		required_missions = { rvn_conquest_of_gaul }
		position = 12
	
		provinces_to_highlight = {
			region = south_german_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = south_german_region
				value = 30
			}
		}
		
		effect = {
			change_monarch_points_or_power = {
				points = 2
				power = mil
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = aqt_riches_of_germany
				duration = 9125
			}
			north_german_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_egypt = {
		icon = mission_saladins_legacy
		required_missions = { }
		position = 13
		
		trigger = {
			358 = { religion = catholic }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 25
				region = egypt_region
			}
		}
		
		provinces_to_highlight = {
			OR = {
				AND = {
					region = egypt_region
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
				AND = {
					province_id = 358
					NOT = { religion = catholic }
				}
			}
			has_discovered = ROOT
		}
		
		effect = {
			country_event = {
				id = ab_latin.3
			}
			custom_tooltip = AB_EMPTY
			maghreb_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tabuk_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = {  is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			medina_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = {  is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			mecca_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = {  is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			dongola_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			1232 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			2324 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}

	rvn_mecca = {
		icon = mission_into_arabia
		required_missions = { rvn_egypt }
		position = 15
		
		trigger = {
		    mecca_area = {
			    type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		provinces_to_highlight = {
			area = mecca_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			country_event = {
				id = ab_latin.9
			}
			custom_tooltip = AB_EMPTY
			arabia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

# Rome
ravenna_first_rome_locked = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_newworld_base_locked = {
		icon = mission_unknown_mission
		position = 13
		required_missions = { }
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_UNLOCKABLE
				always = no
			}
		}
		
		effect = {
			custom_tooltip = BYZ_UNLOCKABLE
		}
	}

	rvn_conquer_seas_locked = {
		icon = mission_unknown_mission
		position = 15
		required_missions = { rvn_newworld_base_locked }
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_UNLOCKABLE
				always = no
			}
		}
		
		effect = {
			custom_tooltip = BYZ_UNLOCKABLE
		}
	}
}

ravenna_first_rome = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
	}
	has_country_shield = yes

	rvn_newworld_base = {
		icon = mission_caribbean_cn
		position = 13
		required_missions = { }
		
		provinces_to_highlight = {
			OR = {
				colonial_region = colonial_the_carribean
				colonial_region = colonial_mexico
				colonial_region = colonial_colombia
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					colonial_region = colonial_the_carribean
					colonial_region = colonial_mexico
					colonial_region = colonial_colombia
				}
				value = 40
			}
		}
		
		effect = {
			create_conquistador = { tradition = 75 }
			add_country_modifier = {
				name = byz_america_base
				duration = 10950
			}
			northeast_america_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			southeast_america_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_conquer_seas = {
		icon = mission_the_triangle_trade
		position = 15
		required_missions = { rvn_newworld_base }
				
		provinces_to_highlight = {
			owner_is_colonial_nation = yes
			country_or_non_sovereign_subject_holds = ROOT
			has_discovered = ROOT
		}
		
		trigger = {
			calc_true_if = {
				all_subject_country = {
					is_colonial_nation = yes
				}
				amount = 12
			}
		}
		
		effect = {
			country_event = {
				id = ab_byzantium.60
			}
		}
	}

	rvn_reform_imperial_army = {
		icon = ven_army_republic
		position = 17
		required_missions = { }

		trigger = {
			has_global_modifier_value = {
				which = discipline
				value = 0.1
			}
			army_tradition = 75
			army_size = 250
		}

		effect = {
			add_army_professionalism = 0.05
			add_country_modifier = {
				name = byzantium_prof_army
				duration = -1
			}
			if = {
				limit = {
					full_idea_group = infrastructure_ideas
				}
				custom_tooltip = BYZ_COMPLETE_INFRA_YES
				add_country_modifier = {
					name = byz_siege_engines
					duration = -1
				}
			}
			else = {
				custom_tooltip = BYZ_COMPLETE_INFRA_NO
				tooltip = {
					add_country_modifier = {
						name = byz_siege_engines
						duration = -1
					}
				}
			}
		}
	}

	rvn_finest = {
		icon = mission_romanfinest
		position = 18
		required_missions = { rvn_reform_imperial_army }

		trigger = {
			has_global_modifier_value = {
				which = discipline
				value = 0.2
			}
			army_tradition = 100
			army_professionalism = 0.9
			army_size = 500
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = diocese_vassal
				}
				amount = 4
			}
			reform_level = 7
		}

		effect = {
			country_event = {
				id = ab_byzantium.47
			}
			custom_tooltip = AB_EMPTY
			unlock_government_reform = {
				government_reform = byzprofessionalism
			}
			custom_tooltip = AB_EMPTY
			add_government_reform = byzprofessionalism
		}
	}

	rvn_grandarmy = {
		icon = mission_redcoats
		position = 20
		required_missions = { rvn_finest }

		trigger = {
			army_size = 1200
			manpower = 1000
			hegemon_strength = 100
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = diocese_vassal
				}
				amount = 8
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = BYZ_GRAND_ARMY_LEGION_REQUIREMENT
					has_government_power = { 
						mechanic_type = roman_professionalism_mechanic
						power_type = romanprofessionalism
						value = 75
					}
				}
				custom_trigger_tooltip = {
					tooltip = BYZ_GRAND_ARMY_DIOCESE_REQUIREMENT
					has_government_mechanic = roman_professionalism_mechanic
					NOT = {
						has_government_power = { 
							mechanic_type = roman_professionalism_mechanic
							power_type = romanprofessionalism
							value = -75
						}
					}
				}
			}
		}

		effect = {
			add_mil_tech = 1
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					has_government_power = { 
						mechanic_type = roman_professionalism_mechanic
						power_type = romanprofessionalism
						value = 75
					}
				}
				custom_tooltip = BYZ_GRAND_ARMY_LEGION_YES
				hidden_effect = {
					unlock_government_reform = {
						government_reform = byzlegio
					}
					add_government_reform = byzlegio
				}
			}
			else = {
				custom_tooltip = BYZ_GRAND_ARMY_LEGION_NO
			}
			custom_tooltip = AB_EMPTY
			tooltip = {
				unlock_government_reform = {
					government_reform = byzlegio
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					has_government_mechanic = roman_professionalism_mechanic
					NOT = {
						has_government_power = { 
							mechanic_type = roman_professionalism_mechanic
							power_type = romanprofessionalism
							value = -75
						}
					}
				}
				custom_tooltip = BYZ_GRAND_ARMY_DIOCESE_YES
				hidden_effect = {
					unlock_government_reform = {
						government_reform = rom_legio
					}
					every_subject_country = {
						limit = {
							OR = {
								is_subject_of_type = diocese_vassal
								is_subject_of_type = grand_diocese_vassal
							}
						}
						add_government_reform = rom_legio
					}
				}
			}
			else = {
				custom_tooltip = BYZ_GRAND_ARMY_DIOCESE_NO
			}
			tooltip = {
				unlock_government_reform = {
					government_reform = rom_legio
				}
			}
		}
	}
}

ravenna_second_rome_locked = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_punics_locked = {
		icon = mission_unknown_mission
		position = 14
		required_missions = { rvn_newworld_base_locked }
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_UNLOCKABLE
				always = no
			}
		}
		
		effect = {
			custom_tooltip = BYZ_UNLOCKABLE
		}
	}

	rvn_europe_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_schism }
		position = 16
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_UNLOCKABLE
				always = no
			}
		}
		
		effect = {
			custom_tooltip = BYZ_UNLOCKABLE
		}
	}
}

ravenna_second_rome = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
	}
	has_country_shield = yes

	rvn_punics = {
		icon = mission_punic
		position = 14
		required_missions = { rvn_newworld_base }
		
		provinces_to_highlight = {
			OR = {
				region = northeast_america_region
				region = southeast_america_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			northeast_america_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			southeast_america_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
		}
		
		effect = {
			965 = {
				change_trade_goods = salt
			}
			add_country_modifier = {
				name = byz_punics_defeated
				duration = 10950
			}
			north_america_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = { exists = CTG }
				}
				custom_tooltip = BYZ_PUNICS_GONE_YES
				hidden_effect = {
					every_province = {
						limit = {
							culture_group = punic_g
						}
						add_devastation = 100
						add_base_tax = -10
						add_base_production = -10
						add_base_manpower = -10
						change_culture = owner
					}
				}
			}
			else = {
				custom_tooltip = BYZ_PUNICS_GONE_NO
			}
		}
	}

	rvn_europe = {
		icon = peace_in_europe
		required_missions = { rvn_schism }
		position = 16
		
		provinces_to_highlight = {
			OR = {
				AND = {
					OR = {
						region = scandinavia_region
						region = british_isles_region
					}
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
				AND = {
					OR = {
						region = wendia_region
						region = poland_region
						region = baltic_region
					}
					NOT = { owned_by = UKR }
				}
			}
		}
		
		trigger = {
			scandinavia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			british_isles_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			wendia_region = {
				type = all
				owned_by = UKR
			}
			poland_region = {
				type = all
				owned_by = UKR
			}
			baltic_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}
		
		effect = {
			country_event = {
				id = ab_byzantium.64
			}
		}
	}

	rvn_cities_latin = {
		icon = mission_the_golden_city
		required_missions = { }
		position = 17

		provinces_to_highlight = {
		    OR = {
				province_id = 118
			    province_id = 225
		      	province_id = 341
		      	province_id = 183
				province_id = 236
				province_id = 1876
				province_id = 134
				province_id = 12
			}
		}

		trigger = {
		    118 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			225 = {
			    province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			341 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			183 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			236 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			1876 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			134 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			12 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_latincities
			custom_tooltip = BYZ_LATIN_CAPITALS
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 118
							province_id = 225
							province_id = 341
							province_id = 183
							province_id = 236
							province_id = 1876
							province_id = 134
							province_id = 12
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = ab_byzantium.71
						}
					}
				}
			}
		}
	}

	rvn_library = {
		icon = bibliotheca_corviana
		required_missions = { }
		position = 19

		provinces_to_highlight = { 
			province_id = 358
		}

		trigger = {
			treasury = 2500
			adm_power = 200
			advisor = scholar
			358 = { country_or_non_sovereign_subject_holds = ROOT }
			358 = { has_any_ongoing_construction = no }
		}

		effect = {
			add_treasury = -2500
			add_adm_power = -200
		    custom_tooltip = BYZ_CREATE_LIBRARY
			set_country_flag = byzantine_library_build
			hidden_effect = {
				358 = {
					add_great_project = {
						type = library_alexandria
						instant = yes
					}
				}
				358 = {
					add_great_project_tier = {
						type = library_alexandria
						tier = 3
					}
				}
			}
		}
	}
}

ravenna_third_rome = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
	}
	has_country_shield = yes

	rvn_ministries = {
		icon = empower_the_junkers
		required_missions = { }
		position = 18

		trigger = {
			has_adm_advisor_3 = yes
			has_dip_advisor_3 = yes
			has_mil_advisor_3 = yes
			custom_trigger_tooltip = {
				tooltip = RVN_UNLOCKED_NI
				OR = {
					has_idea = RVN_seventh
					has_idea = imperium_sine_fine
				}
			}
		}

		effect = {
			add_stability_or_adm_power = yes
			add_splendor = 400
			add_country_modifier = {
				name = byzantium_ministries
				duration = 9125
			}
		}
	}

	rvn_roman_law = {
		icon = mission_themis
		position = 19
		required_missions = { rvn_ministries }

		provinces_to_highlight = {
			owned_by = ROOT
			has_courthouse_building_trigger = no
		}

		trigger = {
			OR = {
				adm = 5
				monthly_adm = 9
			}
			adm_power = 150
			num_of_owned_provinces_with = {
				value = 40
				has_courthouse_building_trigger = yes
			}
		}

		effect = {
			add_adm_power = -150
			change_innovativeness = 3
			add_country_modifier = {
				name = byzantium_roman_law
				duration = -1
			}
		}
	}

	rvn_nomos = {
		icon = mission_justinian
		position = 20
		required_missions = { rvn_library rvn_roman_law rvn_wall }

		trigger = {
			monthly_adm = 10
			monthly_dip = 10
			monthly_mil = 10
			absolutism = 75
		}

		effect = {
			set_country_flag = ab_prevent_ruler_negative_trait
			change_monarch_points_or_power = {
				points = 1
				power = adm
			}
			change_monarch_points_or_power = {
				points = 1
				power = dip
			}
			change_monarch_points_or_power = {
				points = 1
				power = mil
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = add_5_crown_land_share
			hidden_effect = {
				change_estate_land_share = {
					estate = all
					share = -5
				}
			}
			add_country_modifier = {
				name = byzantium_law
				duration = -1
			}
			custom_tooltip = BYZ_PREVENT
		}
	}
}

ravenna_fourth_rome_locked = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = RVN
			AND = {
				ab_is_italy_tag_trigger = yes
				was_tag = RVN
			}
		}
	}
	has_country_shield = yes

	rvn_cultural_hegemony_locked = {
		icon = mission_unknown_mission
		position = 16
		required_missions = { rvn_schism }
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_UNLOCKABLE
				always = no
			}
		}
		
		effect = {
			custom_tooltip = BYZ_UNLOCKABLE
		}
	}
}

ravenna_fourth_rome = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
	}
	has_country_shield = yes

	rvn_cultural_hegemony = {
		icon = mission_cultural_hegemony
		position = 16
		required_missions = { rvn_schism }

		provinces_to_highlight = {
			province_is_diocese_land_trigger = yes
			NOT = {
				AND = {
					culture_group = roman_g
					has_road_building_trigger = yes
					has_courthouse_building_trigger = yes
				}
			}
		}
		
		trigger = {
			OR = {
				in_golden_age = yes
				has_had_golden_age = yes
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 1000
				province_is_diocese_land_trigger = yes
				culture_group = roman_g
				has_road_building_trigger = yes
				has_courthouse_building_trigger = yes
			}
		}
		
		effect = {
			custom_tooltip = BYZ_GOLDEN_AGE 
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = byz_cultural_hegemony
				duration = -1
			}
			custom_tooltip = BYZ_CULTURAL_HEGEMONY_PROVINCE
			tooltip = {
				add_province_modifier = {
					name = byz_cultural_hegemony_province
					duration = -1
				}
			}
			hidden_effect = {
				if = {
					limit = {
						in_golden_age = yes
					}
					extend_golden_age = 600
				}
				else = {
					reset_golden_age = yes
				}
				every_province = {
					limit = {
						culture_group = roman_g
					}
					add_province_modifier = {
						name = byz_cultural_hegemony_province
						duration = -1
					}
				}
			}
		}
	}

	rvn_cities_byzantine = {
		icon = mission_ottoman_law
		required_missions = { }
		position = 17

		provinces_to_highlight = {
			OR = {
				province_id = 151
				province_id = 146
			    province_id = 148
		      	province_id = 145
		      	province_id = 317
				province_id = 318
				province_id = 358
				province_id = 2313
			}
		}

		trigger = {
			151 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
		    146 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			148 = {
			    province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			145 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			317 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			318 = {
			    province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			358 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			2313 = {
			    province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
		}

		effect = {
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 151
							province_id = 146
							province_id = 148
							province_id = 145
							province_id = 317
							province_id = 318
							province_id = 358
							province_id = 2313
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = ab_byzantium.71
						}
					}
				}
			}
		}
	}

	rvn_wall = {
		icon = byz_reinforce_constantinople
		required_missions = { }
		position = 19

		provinces_to_highlight = { 
			province_id = 151
		}

		trigger = {
			mil_power = 200
			manpower = 25
			treasury = 2500
			advisor = fortification_expert
			151 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			151 = {
				has_any_ongoing_construction = no
			}
		}

		effect = {
			add_mil_power = -200
			add_manpower = -25
			add_treasury = -2500
			custom_tooltip = BYZ_CREATE_MONUMENT
			set_country_flag = byzantine_monument_flag
			hidden_effect = {
				151 = {
					add_great_project = {
						type = theodosian
						instant = yes
					}
				}
				151 = {
					add_great_project_tier = {
						type = theodosian
						tier = 3
					}
				}
			}
		}
	}
}

ravenna_fifth_rome = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
	}
	has_country_shield = yes

	rvn_money = {
		icon = dominant_economy
		required_missions = { }
		position = 17

		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 151
					NOT = {
						trade_share = {
							country = ROOT
							share = 80
						}
					}
				}
				AND = {
					province_id = 358
					NOT = {
						trade_share = {
							country = ROOT
							share = 60
						}
					}
				}
				AND = {
					province_id = 377
					NOT = {
						trade_share = {
							country = ROOT
							share = 60
						}
					}
				}
			}
		}
		
		trigger = {  
		    NOT = { num_of_loans = 1 }
			151 = {
				trade_share = {
					country = ROOT
					share = 80
				}
			}
			358 = {
				trade_share = {
					country = ROOT
					share = 60
				}
			}
			377 = {
				trade_share = {
					country = ROOT
					share = 60
				}
			}
			OR = {
				monthly_adm = 12
				full_idea_group = economic_ideas
			}
			advisor = treasurer
		}

		effect = {
		    set_country_flag = rmg_monetary_policy_no_power_cost_flag
			add_inflation = -5
			add_country_modifier = {
				name = byz_gold_standard
				duration = -1
			}
			custom_tooltip = RMG_MONETARY_POLICY_NO_POWER
		}
	}

	rvn_roads = {
		icon = mission_royal_roads
		position = 18
		required_missions = { rvn_money }

		provinces_to_highlight = {
			owned_by = ROOT
			has_road_building_trigger = no
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 100
				has_road_building_trigger = yes
			}
		}

		effect = {
			set_country_flag = byz_building_roads_bonus
			add_country_modifier = {
				name = byz_roads
				duration = -1
			}
			custom_tooltip = BYZ_BUILDING_ROADS_BONUS
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_road_building_trigger = yes
					}
					add_province_modifier = {
						name = byz_roads_province
						duration = -1
					}
				}
			}
		}
	}

	rvn_wonders = {
		icon = mission_romanwonders
		position = 20
		required_missions = { rvn_roads }

		provinces_to_highlight = {
			province_is_diocese_land_trigger = yes
			has_great_project = {
				type = any
				tier = 0
			}
			NOT = {
				has_great_project = {
					type = any
					tier = 3
				}
			}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				province_is_diocese_land_trigger = yes
				has_great_project = {
					type = any
					tier = 3
				}
			}
			reform_level = 6
		}

		effect = {
			unlock_government_reform = {
				government_reform = byzengineering
			}
			custom_tooltip = AB_EMPTY
			add_government_reform = byzengineering
		}
	}
}

# Persian War
ravenna_fourth_persian_locked = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		NOT = { has_country_flag = byz_persian_war_victory }
	}
	has_country_shield = yes

	rvn_georgia_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_persia_locked }
		position = 22

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}

	rvn_persosphere_locked = {
		icon = mission_unknown_mission
		required_missions = { }
		position = 23

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}

	rvn_cities_persian_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_persosphere_locked }
		position = 24

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}
}

ravenna_fourth_persian_unlocked = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		has_country_flag = byz_persian_war_victory
	}
	has_country_shield = yes

	rvn_georgia = {
		icon = mission_georgia
		required_missions = { rvn_persia }
		position = 22

		provinces_to_highlight = {
			region = caucasia_region
			NOT = { area = circassia_area }
			NOT = { area = dagestan_area }
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			samtskhe_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			kartli_kakheti_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			imereti_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			armenia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			shirvan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			country_event = {
				id = ab_byzantium.78
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = per_looting
				duration = 7300
			}
			if = {
				limit = {
					circassia_area = {
						type = all
						owned_by = UKR
					}
					dagestan_area = {
						type = all
						owned_by = UKR
					}
				}
				custom_tooltip = BYZ_RUS_CAUCASIA_YES
				circassia_area = {
					change_culture = romano_scythic
					change_religion = ROOT
				}
				dagestan_area = {
					change_culture = romano_scythic
					change_religion = ROOT
				}
			}
			else = {
				custom_tooltip = BYZ_RUS_CAUCASIA_NO
				tooltip = {
					circassia_area = {
						change_culture = romano_scythic
						change_religion = ROOT
					}
					dagestan_area = {
						change_culture = romano_scythic
						change_religion = ROOT
					}
				}
			}
		}
	}

	rvn_persosphere = {
		icon = mission_iran
		required_missions = { }
		position = 23

		provinces_to_highlight = {
			province_is_diocese_land_trigger = yes
			culture = perso_roman
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				province_is_diocese_land_trigger = yes
				culture = perso_roman
			}
		}

		effect = {
			set_country_flag = unlocked_faction_romepersian
			set_country_flag = byz_faster_romanization_persia
			custom_tooltip = BYZ_PERSIAN_CAPITALS
			custom_tooltip = AB_EMPTY
			custom_tooltip = PER_ADM_DEV
			hidden_effect = {
                for = {
                    amount = 10
                    effect = "
                        random_owned_province = {
							limit = {
								region = persia_region
							}
							add_base_tax = 1
                        }
                    "
                }
				add_faction = faction_byzpersian
				add_faction_influence = {
					faction = faction_byzpersian
					influence = 20
				}
			}
		}
	}

	rvn_cities_persian = {
		icon = per_purify_the_holy_sites
		required_missions = { rvn_persosphere }
		position = 24

		provinces_to_highlight = {
		    OR = {
				province_id = 416
			    province_id = 428
		      	province_id = 429
		      	province_id = 2218
				province_id = 431
				province_id = 4341
				province_id = 445
				province_id = 451
			}
			has_discovered = ROOT
		}

		trigger = {
		    416 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			428 = {
			    province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			429 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			2218 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			431 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			4341 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			445 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			451 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
		}

		effect = {
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 416
							province_id = 428
							province_id = 429
							province_id = 2218
							province_id = 431
							province_id = 4341
							province_id = 445
							province_id = 451
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = ab_byzantium.71
						}
					}
				}
			}
		}
	}
}

ravenna_fifth_persian_locked = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		NOT = { has_country_flag = byz_persian_war_victory }
	}
	has_country_shield = yes

	rvn_persia_locked = {
		icon = mission_unknown_mission
		required_missions = { }
		position = 21

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}

	rvn_turkmen_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_persia_locked }
		position = 22

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}

	rvn_ariana_locked = {
		icon = mission_unknown_mission
		required_missions = { }
		position = 23

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}

	rvn_invade_india_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_ariana_locked }
		position = 24

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}

	rvn_maharajas_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_invade_india_locked }
		position = 25

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_PERSIA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_PERSIA
		}
	}
}

ravenna_fifth_persian_unlocked = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		has_country_flag = byz_persian_war_victory
	}
	has_country_shield = yes

	rvn_persia = {
		icon = per_tab_ziyarids_successor
		required_missions = { }
		position = 21

		provinces_to_highlight = {
			region = persia_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			persia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			persia_region = {
				add_local_autonomy = -50
				add_province_modifier = {
					name = per_restored_iran
					duration = 9125
				}
			}
			if = {
				limit = {
					UKR = {
						is_subject_of_type_with_overlord = {
							who = ROOT
							type = grand_diocese_vassal
						}
					}
				}
				custom_tooltip = UKR_IS_OUR_DIOCESE_YES
				central_asia_region = {
					limit = {
						NOT = { is_core = UKR }
						NOT = { is_permanent_claim = UKR }
					}
					add_permanent_claim = UKR
				}
			}
			else = {
				custom_tooltip = UKR_IS_OUR_DIOCESE_NO
				tooltip = {
					central_asia_region = {
						limit = {
							NOT = { is_core = UKR }
							NOT = { is_permanent_claim = UKR }
						}
						add_permanent_claim = UKR
					}
				}
			}
		}
	}

	rvn_turkmen = {
		icon = mission_central_asian_steppes
		required_missions = { rvn_persia }
		position = 22

		provinces_to_highlight = {
			region = central_asia_region
			NOT = { owned_by = UKR }
			has_discovered = ROOT
		}

		trigger = {
			num_of_mercenaries = 100
			central_asia_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}

		effect = {
			set_country_flag = ab_free_mercs
			custom_tooltip = PER_FREE_MERCS
			custom_tooltip = AB_EMPTY
			central_asia_region = {
				add_province_modifier = {
					name = byz_integrate_turkmen
					duration = 7300
				}
			}
			add_country_modifier = {
				name = per_turkic_mercenaries
				duration = -1
			}
		}
	}

	rvn_ariana = {
		icon = mission_silk_road
		required_missions = { }
		position = 23

		provinces_to_highlight = {
			region = khorasan_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			khorasan_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			set_country_flag = commandants_give_global_supply_limit_modifier
			define_advisor = {
				type = commandant
				skill = 3
				culture = perso_roman
				cost_multiplier = 0.5
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_COMMANDANT_SCALING
			custom_tooltip = AB_EMPTY
			northern_sindh_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			sindh_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			multan_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lahore_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			sind_sagar_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			kashmir_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_invade_india = {
		icon = mission_rb_take_north_india
		required_missions = { rvn_ariana }
		position = 24

		provinces_to_highlight = {
			OR = {
				area = sindh_area
				area = northern_sindh_area
				area = multan_area
				area = kashmir_area
				area = sind_sagar_area
				area = lahore_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			sindh_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			northern_sindh_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			multan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			kashmir_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			sind_sagar_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			lahore_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_yearly_manpower = 4
			add_country_modifier = {
				name = byz_invade_india
				duration = 7300
			}
			west_india_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT 
			}
			hindusthan_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT 
			}
		}
	}

	rvn_maharajas = {
		icon = mission_indian_empire
		required_missions = { rvn_invade_india }
		position = 25

		provinces_to_highlight = {
			superregion = india_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 100
				superregion = india_superregion
			}
		}

		effect = {
			india_superregion = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_province_modifier = {
					name = byz_integrate_indian
					duration = 7300
				}
			}
			add_country_modifier = {
				name = yua_horde_claim_india
				duration = 9125
			}
			india_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					has_country_modifier = byz_invade_india
				}
				custom_tooltip = BYZ_SPEEDRUN_INDIA_YES
				set_country_flag = byz_faster_romanization_india
			}
			else = {
				custom_tooltip = BYZ_SPEEDRUN_INDIA_NO
			}
		}
	}
}

# Dragon Emperor
ravenna_first_chinese_locked = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		NOT = { has_country_flag = byz_chinese_war_victory }
	}
	has_country_shield = yes

	rvn_tibet_locked = {
		icon = mission_unknown_mission
		required_missions = { }
		position = 21

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}

	rvn_mongolia_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_tibet_locked }
		position = 23

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}

	rvn_far_east_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_mongolia_locked }
		position = 25

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}
}

ravenna_first_chinese_unlocked = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		has_country_flag = byz_chinese_war_victory
	}
	has_country_shield = yes

	rvn_tibet = {
		icon = mission_lhasa
		required_missions = { }
		position = 21

		provinces_to_highlight = {
			region = tibet_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 18
				region = tibet_region
			}
		}

		effect = {
			set_country_flag = byz_religious_diplomats_buff
			define_advisor = {
				type = theologian
				skill = 3
				religion = vajrayana
				culture = tibeto_roman
				cost_multiplier = 0.25
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_RELIGIOUS_DIPLOMATS_PRIVILEGE
			custom_tooltip = AB_EMPTY
			xinan_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			north_china_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					UKR = {
						is_subject_of_type_with_overlord = {
							who = ROOT
							type = grand_diocese_vassal
						}
					}
				}
				custom_tooltip = UKR_IS_OUR_DIOCESE_YES
				mongolia_region = {
					limit = {
						NOT = { is_core = UKR }
						NOT = { is_permanent_claim = UKR }
					}
					add_permanent_claim = UKR
				}
			}
			else = {
				custom_tooltip = UKR_IS_OUR_DIOCESE_NO
				tooltip = {
					mongolia_region = {
						limit = {
							NOT = { is_core = UKR }
							NOT = { is_permanent_claim = UKR }
						}
						add_permanent_claim = UKR
					}
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = { mission_completed = rvn_burma }
				}
				custom_tooltip = BYZ_CONQUER_TIBET_FIRST_YES
				set_country_flag = byz_conquer_tibet_first
			}
			else = {
				custom_tooltip = BYZ_CONQUER_TIBET_FIRST_NO
			}
		}
	}

	rvn_mongolia = {
		icon = mission_unify_mongolia
		required_missions = { rvn_tibet }
		position = 23

		provinces_to_highlight = {
			region = mongolia_region
			NOT = { owned_by = UKR }
			has_discovered = ROOT
		}

		trigger = {
			mongolia_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}

		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
			add_country_modifier = {
				name = china_integrate_mongol
				duration = -1
			}
			liaoning_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			korea_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			japan_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					UKR = {
						is_subject_of_type_with_overlord = {
							who = ROOT
							type = grand_diocese_vassal
						}
					}
				}
				custom_tooltip = UKR_IS_OUR_DIOCESE_YES
				manchuria_region = {
					limit = {
						NOT = { is_core = UKR }
						NOT = { is_permanent_claim = UKR }
						NOT = { area = liaoning_area }
					}
					add_permanent_claim = UKR
				}
			}
			else = {
				custom_tooltip = UKR_IS_OUR_DIOCESE_NO
				tooltip = {
					manchuria_region = {
						limit = {
							NOT = { is_core = UKR }
							NOT = { is_permanent_claim = UKR }
							NOT = { area = liaoning_area }
						}
						add_permanent_claim = UKR
					}
				}
			}
		}
	}

	rvn_far_east = {
		icon = jap_financial_cliques
		required_missions = { rvn_mongolia }
		position = 25

		provinces_to_highlight = {
			superregion = far_east_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			735 = { country_or_non_sovereign_subject_holds = ROOT }
			1020 = { country_or_non_sovereign_subject_holds = ROOT }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 50
				superregion = far_east_superregion
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_fareast
			country_event = {
				id = ab_byzantium.81
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_FAR_EAST_CAPITALS
			custom_tooltip = AB_EMPTY
			oceanea_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

ravenna_second_chinese_locked = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		NOT = { has_country_flag = byz_chinese_war_victory }
	}
	has_country_shield = yes

	rvn_invade_china_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_tibet_locked rvn_burma_locked }
		position = 22

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}

	rvn_cities_chinese_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_invade_china_locked }
		position = 24

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}
}

ravenna_second_chinese_unlocked = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		has_country_flag = byz_chinese_war_victory
	}
	has_country_shield = yes

	rvn_invade_china = {
		icon = mission_jaded
		required_missions = { rvn_tibet rvn_burma }
		position = 22

		provinces_to_highlight = {
			superregion = china_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 50
				superregion = china_superregion
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_china
			set_country_flag = unlocked_faction_romechinese
			enable_estate_effect = {
				estate = estate_eunuchs
			}
			custom_tooltip = BYZ_CHINESE_CAPITALS
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_CHINA_ADM_DEV
			hidden_effect = {
                for = {
                    amount = 20
                    effect = "
                        random_owned_province = {
							limit = {
								superregion = china_superregion
							}
							add_base_tax = 1
                        }
                    "
                }
				add_faction = faction_byzchinese
				add_faction_influence = {
					faction = faction_byzchinese
					influence = 15
				}
			}
			custom_tooltip = AB_EMPTY
			china_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_cities_chinese = {
		icon = mission_asian_city
		required_missions = { rvn_invade_china }
		position = 24

		provinces_to_highlight = {
		    OR = {
				province_id = 1816
				province_id = 667
		    	province_id = 1821
		    	province_id = 679
				province_id = 700
				province_id = 672
				province_id = 682
				province_id = 684
			}
			has_discovered = ROOT
		}

		trigger = {
		    1816 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			667 = {
			    province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			1821 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			679 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			700 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			672 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			682 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			684 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
		}

		effect = {
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 1816
							province_id = 667
							province_id = 1821
							province_id = 679
							province_id = 700
							province_id = 672
							province_id = 682
							province_id = 684
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = ab_byzantium.71
						}
					}
				}
			}
		}
	}
}

ravenna_third_chinese_locked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		NOT = { has_country_flag = byz_chinese_war_victory }
	}
	has_country_shield = yes

	rvn_burma_locked = {
		icon = mission_unknown_mission
		required_missions = { }
		position = 21

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}

	rvn_indochina_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_burma_locked }
		position = 23

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}

	rvn_east_indies_locked = {
		icon = mission_unknown_mission
		required_missions = { rvn_indochina_locked }
		position = 25

		trigger = {
			custom_trigger_tooltip = {
				tooltip = BYZ_BEATING_CHINA
				always = no
			}
		}

		effect = {
			custom_tooltip = BYZ_BEATING_CHINA
		}
	}
}

ravenna_third_chinese_unlocked = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = ROM
		was_tag = RVN
		has_country_flag = byz_chinese_war_victory
	}
	has_country_shield = yes

	rvn_burma = {
		icon = mission_conquer_lower_burma_tau
		required_missions = { }
		position = 21

		provinces_to_highlight = {
			region = burma_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 22
				region = burma_region
			}
		}

		effect = {
			country_event = {
				id = flavor_mch.12
			}
			custom_tooltip = AB_EMPTY
			xinan_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			indo_china_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = { mission_completed = rvn_tibet }
				}
				custom_tooltip = BYZ_CONQUER_BURMA_FIRST_YES
				set_country_flag = byz_conquer_burma_first
			}
			else = {
				custom_tooltip = BYZ_CONQUER_BURMA_FIRST_NO
			}
		}
	}

	rvn_indochina = {
		icon = mission_rule_indochina
		required_missions = { rvn_burma }
		position = 23

		provinces_to_highlight = {
			region = indo_china_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 45
				region = indo_china_region
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_indochina
			custom_tooltip = BYZ_SEA_MAINLAND_CAPITALS
			custom_tooltip = AB_EMPTY
			add_absolutism = 10
			add_country_modifier = {
				name = byz_wealth_of_indochina
				duration = -1
			}
			east_indies_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_east_indies = {
		icon = mission_las_islas_filipinas
		required_missions = { rvn_indochina }
		position = 25

		provinces_to_highlight = {
			superregion = east_indies_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 100
				superregion = east_indies_superregion
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_eastindies
			custom_tooltip = BYZ_SEA_MARITIME_CAPITALS
			custom_tooltip = AB_EMPTY
			change_price = {
                trade_goods = spices
                key = "Monopolization of Spices"
                value = 0.15
                duration = -1
            }
			add_country_modifier = {
				name = gor_spice_trade
				duration = -1
			}
			oceanea_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	rvn_asia = {
		icon = mission_warring
		required_missions = { rvn_far_east rvn_east_indies rvn_maharajas }
		position = 26

		provinces_to_highlight = {
			OR = {
				AND = {
					OR = {
						superregion = far_east_superregion
						superregion = china_superregion
						superregion = east_indies_superregion
						superregion = india_superregion
						region = oceanea_region
					}
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
				AND = {
					region = east_siberia_region
					NOT = { owned_by = UKR }
				}
			}
			has_discovered = ROOT
		}

		trigger = {
			far_east_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			china_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			east_indies_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			india_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			oceanea_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			east_siberia_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}

		effect = {
			country_event = {
				id = ab_byzantium.82
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = yua_china_tiger
				duration = 18250
			}
		}
	}
}