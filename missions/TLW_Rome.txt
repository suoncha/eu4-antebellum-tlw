# Conquest
roman_tree_conquest_first = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_conquest
	}
	has_country_shield = yes

	vsg_alpine = {
	    icon = the_alpine_wall
		required_missions = { vsg_restored_rome }
		position = 2
		
		trigger = {
		    switzerland_area = {
			    type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		    romandie_area = {
			    type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		provinces_to_highlight = {
			OR = {
				area = switzerland_area
				area = romandie_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			add_dip_power = 100
			add_country_modifier = {
				name = byzantium_western_campaigns
				duration = 7300
			}
			alsace_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lorraine_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lower_rhineland_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			wallonia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			flanders_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			brabant_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_rhine = {
	    icon = mission_rhine
		required_missions = { vsg_alpine }
		position = 3
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 15
				OR = {
					area = brabant_area
					area = flanders_area
					area = wallonia_area
					area = lower_rhineland_area
					area = lorraine_area
					area = alsace_area
				}
			}
		}
		
		provinces_to_highlight = {
			OR = {
				area = brabant_area
				area = flanders_area
				area = wallonia_area
				area = lower_rhineland_area
				area = lorraine_area
				area = alsace_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			add_prestige_or_monarch_power = { amount = 50 }
			add_country_modifier = {
				name = byzantium_imperial_border
				duration = -1
			}
			low_countries_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_belgica = {
	    icon = ned_dykes
		required_missions = { vsg_rhine }
		position = 4
		
		trigger = {
		    low_countries_region = {
			    type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		provinces_to_highlight = {
			region = low_countries_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			country_event = {
				id = ab_byzantium.63
			}
			custom_tooltip = AB_EMPTY
			97 = {
				add_great_project_tier = {
					type = dutch_polders
					tier = 1
				}
				add_great_project_tier = {
					type = amsterdam_bourse
					tier = 1
				}
			}
		}
	}

	vsg_cultural_hegemony = {
		icon = mission_cultural_hegemony
		position = 6
		required_missions = { vsg_belgica vsg_germany }

		provinces_to_highlight = {
			province_is_diocese_land_trigger = yes
			NOT = {
				AND = {
					culture_group = roman_g
					has_road_building_trigger = yes
					has_courthouse_building_trigger = yes
				}
			}
		}
		
		trigger = {
			OR = {
				in_golden_age = yes
				has_had_golden_age = yes
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 1000
				province_is_diocese_land_trigger = yes
				culture_group = roman_g
				has_road_building_trigger = yes
				has_courthouse_building_trigger = yes
			}
		}
		
		effect = {
			custom_tooltip = BYZ_GOLDEN_AGE 
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = byz_cultural_hegemony
				duration = -1
			}
			custom_tooltip = BYZ_CULTURAL_HEGEMONY_PROVINCE
			tooltip = {
				add_province_modifier = {
					name = byz_cultural_hegemony_province
					duration = -1
				}
			}
			hidden_effect = {
				if = {
					limit = {
						in_golden_age = yes
					}
					extend_golden_age = 600
				}
				else = {
					reset_golden_age = yes
				}
				every_province = {
					limit = {
						culture_group = roman_g
					}
					add_province_modifier = {
						name = byz_cultural_hegemony_province
						duration = -1
					}
				}
			}
		}
	}

	vsg_reform_imperial_army = {
		icon = ven_army_republic
		position = 7
		required_missions = { }

		trigger = {
			has_global_modifier_value = {
				which = discipline
				value = 0.1
			}
			army_tradition = 75
			army_size = 250
		}

		effect = {
			add_army_professionalism = 0.05
			add_country_modifier = {
				name = byzantium_prof_army
				duration = -1
			}
			if = {
				limit = {
					full_idea_group = infrastructure_ideas
				}
				custom_tooltip = BYZ_COMPLETE_INFRA_YES
				add_country_modifier = {
					name = byz_siege_engines
					duration = -1
				}
			}
			else = {
				custom_tooltip = BYZ_COMPLETE_INFRA_NO
				tooltip = {
					add_country_modifier = {
						name = byz_siege_engines
						duration = -1
					}
				}
			}
		}
	}

	vsg_finest = {
		icon = mission_romanfinest
		position = 8
		required_missions = { vsg_reform_imperial_army }

		trigger = {
			has_global_modifier_value = {
				which = discipline
				value = 0.2
			}
			army_tradition = 100
			army_professionalism = 0.9
			army_size = 500
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = diocese_vassal
				}
				amount = 4
			}
			reform_level = 7
		}

		effect = {
			country_event = {
				id = ab_byzantium.47
			}
			custom_tooltip = AB_EMPTY
			unlock_government_reform = {
				government_reform = byzprofessionalism
			}
			custom_tooltip = AB_EMPTY
			add_government_reform = byzprofessionalism
		}
	}

	vsg_grandarmy = {
		icon = mission_redcoats
		position = 10
		required_missions = { vsg_finest }

		trigger = {
			army_size = 1200
			manpower = 1000
			hegemon_strength = 100
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = diocese_vassal
				}
				amount = 8
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = BYZ_GRAND_ARMY_LEGION_REQUIREMENT
					has_government_power = { 
						mechanic_type = roman_professionalism_mechanic
						power_type = romanprofessionalism
						value = 75
					}
				}
				custom_trigger_tooltip = {
					tooltip = BYZ_GRAND_ARMY_DIOCESE_REQUIREMENT
					has_government_mechanic = roman_professionalism_mechanic
					NOT = {
						has_government_power = { 
							mechanic_type = roman_professionalism_mechanic
							power_type = romanprofessionalism
							value = -75
						}
					}
				}
			}
		}

		effect = {
			add_mil_tech = 1
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					has_government_power = { 
						mechanic_type = roman_professionalism_mechanic
						power_type = romanprofessionalism
						value = 75
					}
				}
				custom_tooltip = BYZ_GRAND_ARMY_LEGION_YES
				hidden_effect = {
					unlock_government_reform = {
						government_reform = byzlegio
					}
					add_government_reform = byzlegio
				}
			}
			else = {
				custom_tooltip = BYZ_GRAND_ARMY_LEGION_NO
			}
			custom_tooltip = AB_EMPTY
			tooltip = {
				unlock_government_reform = {
					government_reform = byzlegio
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					has_government_mechanic = roman_professionalism_mechanic
					NOT = {
						has_government_power = { 
							mechanic_type = roman_professionalism_mechanic
							power_type = romanprofessionalism
							value = -75
						}
					}
				}
				custom_tooltip = BYZ_GRAND_ARMY_DIOCESE_YES
				hidden_effect = {
					unlock_government_reform = {
						government_reform = rom_legio
					}
					every_subject_country = {
						limit = {
							OR = {
								is_subject_of_type = diocese_vassal
								is_subject_of_type = grand_diocese_vassal
							}
						}
						add_government_reform = rom_legio
					}
				}
			}
			else = {
				custom_tooltip = BYZ_GRAND_ARMY_DIOCESE_NO
			}
			tooltip = {
				unlock_government_reform = {
					government_reform = rom_legio
				}
			}
		}
	}
}

roman_tree_conquest_second = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_conquest
	}
	has_country_shield = yes

	vsg_carpathia = {
		icon = mission_hunting
		required_missions = { vsg_restored_rome }
		position = 2
		
		provinces_to_highlight = {
			region = carpathia_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
			
		trigger = {
			carpathia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		effect = {
			carpathia_region = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_nationalism = -20
			}
			add_country_modifier = {
				name = byz_dacia_secured
				duration = 9125
			}
			if = {
				limit = {
					carpathia_region = {
						type = all
						owned_by = RDR
					}
				}
				custom_tooltip = BYZ_RDR_OWN_CARPATHIA_YES
				RDR = {
					add_country_modifier = {
						name = byz_loyal_diocese
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = BYZ_RDR_OWN_CARPATHIA_NO
				tooltip = {
					RDR = {
						add_country_modifier = {
							name = byz_loyal_diocese
							duration = -1
						}
					}
				}
			}
		}
	}

	vsg_found_the_grand_armada = {
		icon = mission_galleass
		required_missions = { }
		position = 3
		
		trigger = {
			navy_size = 200
			navy_size_percentage = 1
		}
		
		effect = {
			add_navy_tradition = 25
			add_country_modifier = {
				name = vsg_the_grand_armada
				duration = -1
			}
			set_country_flag = rus_scaling_naval_reformer
			custom_tooltip = RUS_NAVAL_REFORMER_SCALING
		}
	}

	vsg_fortify_rhine = {
		icon = alpine_fortifications
		required_missions = { vsg_rhine }
		position = 4
		
		provinces_to_highlight = {
			OR = {
				area = inner_austria_area
				area = austria_proper_area
				area = switzerland_area
				area = alsace_area
				area = lorraine_area
				area = lower_rhineland_area
				area = wallonia_area
				area = brabant_area
				area = flanders_area
			}
			OR = {
				NOT = { base_manpower = 5 }
				province_has_current_tech_fort_trigger = no
			}
			province_is_diocese_land_trigger = yes
		}
		
		trigger = {
			inner_austria_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			austria_proper_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			switzerland_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			alsace_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			lorraine_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			lower_rhineland_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			wallonia_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			brabant_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
			flanders_area = {
				province_is_diocese_land_trigger = yes
				province_has_current_tech_fort_trigger = yes
				base_manpower = 5
			}
		}
		
		effect = {
			custom_tooltip = EVERY_REQUIRE_PROVINCE
			tooltip = {
				add_base_manpower = 1
				upgrade_fort_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							area = inner_austria_area
							area = austria_proper_area
							area = switzerland_area
							area = alsace_area
							area = lorraine_area
							area = lower_rhineland_area
							area = wallonia_area
							area = brabant_area
							area = flanders_area
						}
						province_has_current_tech_fort_trigger = yes
						base_manpower = 5
						province_is_diocese_land_trigger = yes
					}
					add_base_manpower = 1
					upgrade_fort_building = yes
				}
			}
			custom_tooltip = AB_EMPTY
			north_german_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			south_german_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_germany = {
		icon = the_imperial_border
		required_missions = { vsg_fortify_rhine }
		position = 5
		
		provinces_to_highlight = {
			OR = {
				region = north_german_region
				region = south_german_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 80
				OR = {
					region = north_german_region
					region = south_german_region
				}
			}
		}
		
		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
			add_country_modifier = {
				name = byz_german_conquest
				duration = -1
			}
			scandinavia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_cities_latin = {
		icon = mission_the_golden_city
		required_missions = { }
		position = 7

		provinces_to_highlight = {
		    OR = {
				province_id = 118
			    province_id = 225
		      	province_id = 341
		      	province_id = 183
				province_id = 236
				province_id = 1876
				province_id = 134
				province_id = 12
			}
		}

		trigger = {
		    118 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			225 = {
			    province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			341 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			183 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			236 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			1876 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			134 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
			12 = {
				province_is_diocese_land_trigger = yes
				development = 27
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_building = university
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_latincities
			custom_tooltip = BYZ_LATIN_CAPITALS
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 118
							province_id = 225
							province_id = 341
							province_id = 183
							province_id = 236
							province_id = 1876
							province_id = 134
							province_id = 12
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = tlw_rome.0
						}
					}
				}
			}
		}
	}

	vsg_library = {
		icon = bibliotheca_corviana
		required_missions = { }
		position = 9

		provinces_to_highlight = { 
			province_id = 358
		}

		trigger = {
			treasury = 2500
			adm_power = 200
			advisor = scholar
			358 = { country_or_non_sovereign_subject_holds = ROOT }
			358 = { has_any_ongoing_construction = no }
		}

		effect = {
			add_treasury = -2500
			add_adm_power = -200
		    custom_tooltip = BYZ_CREATE_LIBRARY
			set_country_flag = byzantine_library_build
			hidden_effect = {
				358 = {
					add_great_project = {
						type = library_alexandria
						instant = yes
					}
				}
				358 = {
					add_great_project_tier = {
						type = library_alexandria
						tier = 3
					}
				}
			}
		}
	}
}

roman_tree_conquest_third = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_conquest
	}
	has_country_shield = yes

	vsg_restored_rome = {
		icon = mission_westrome
		required_missions = { }
		position = 1
				
		trigger = {
			OR = {
				manpower_percentage = 1
				army_size_percentage = 1
			}
			NOT = { governing_capacity_percentage = 0.8 }
			religious_unity = 0.85
		}
		
		effect = {
			add_country_modifier = {
				name = vsg_restore_west_empire
				duration = -1
			}
			unlock_estate_privilege = {
				estate_privilege = estate_nobles_theme_system
			}
			custom_tooltip = AB_EMPTY
			switzerland_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			romandie_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tirol_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			inner_austria_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			austria_proper_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_mecca = {
		icon = mission_into_arabia
		required_missions = { vsg_restored_rome }
		position = 2
		
		trigger = {
		    mecca_area = {
			    type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		provinces_to_highlight = {
			area = mecca_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			country_event = {
				id = ab_latin.9
			}
			custom_tooltip = AB_EMPTY
			arabia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_colonial_empire = {
		icon = mission_ruler_of_north_america
		required_missions = { vsg_found_the_grand_armada vsg_roman_sun }
		position = 4
		
		provinces_to_highlight = {
			culture_group = roman_g
			OR = {
				continent = north_america
				continent = south_america
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				culture_group = roman_g
				OR = {
					continent = north_america
					continent = south_america
				}
				value = 200
			}
		}
		
		effect = {
			custom_tooltip = FRC_COLONIST_MODIFIER
			set_country_flag = ab_colonist_modifier
			custom_tooltip = GEN_COLONIAL_CHARTER
			set_country_flag = ab_upgrade_colonial_charters
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_LATIN_RENAME
			set_country_flag = byz_rename_imperium_romanum
			if = {
				limit = {
					colonialministry = 1
				}
				custom_tooltip = GEN_MINISTRY_YES
				hidden_effect = {
					every_owned_province = {
						limit = {
							is_colony = yes
						}
						add_colonysize = 200
					}
				}
			}
			else = {
				custom_tooltip = GEN_MINISTRY_NO
			}
		}
	}

	vsg_europe = {
		icon = peace_in_europe
		required_missions = { vsg_germany vsg_colonial_empire }
		position = 6
		
		provinces_to_highlight = {
			OR = {
				AND = {
					OR = {
						region = scandinavia_region
						region = british_isles_region
					}
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
				AND = {
					OR = {
						region = wendia_region
						region = poland_region
						region = baltic_region
					}
					NOT = { owned_by = UKR }
				}
			}
		}
		
		trigger = {
			scandinavia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			british_isles_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			wendia_region = {
				type = all
				owned_by = UKR
			}
			poland_region = {
				type = all
				owned_by = UKR
			}
			baltic_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}
		
		effect = {
			country_event = {
				id = ab_byzantium.64
			}
		}
	}

	vsg_ministries = {
		icon = empower_the_junkers
		required_missions = { }
		position = 8

		trigger = {
			has_adm_advisor_3 = yes
			has_dip_advisor_3 = yes
			has_mil_advisor_3 = yes
			custom_trigger_tooltip = {
				tooltip = VSG_UNLOCKED_NI
				OR = {
					has_idea = vsg_seventh
					has_idea = imperium_sine_fine
				}
			}
		}

		effect = {
			add_stability_or_adm_power = yes
			add_splendor = 400
			add_country_modifier = {
				name = byzantium_ministries
				duration = 9125
			}
		}
	}

	vsg_roman_law = {
		icon = mission_themis
		position = 9
		required_missions = { vsg_ministries }

		provinces_to_highlight = {
			owned_by = ROOT
			has_courthouse_building_trigger = no
		}

		trigger = {
			OR = {
				adm = 5
				monthly_adm = 9
			}
			adm_power = 150
			num_of_owned_provinces_with = {
				value = 40
				has_courthouse_building_trigger = yes
			}
		}

		effect = {
			add_adm_power = -150
			change_innovativeness = 3
			add_country_modifier = {
				name = byzantium_roman_law
				duration = -1
			}
		}
	}

	vsg_nomos = {
		icon = mission_justinian
		position = 10
		required_missions = { vsg_library vsg_roman_law vsg_wall }

		trigger = {
			monthly_adm = 10
			monthly_dip = 10
			monthly_mil = 10
			absolutism = 75
		}

		effect = {
			set_country_flag = ab_prevent_ruler_negative_trait
			change_monarch_points_or_power = {
				points = 1
				power = adm
			}
			change_monarch_points_or_power = {
				points = 1
				power = dip
			}
			change_monarch_points_or_power = {
				points = 1
				power = mil
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = add_5_crown_land_share
			hidden_effect = {
				change_estate_land_share = {
					estate = all
					share = -5
				}
			}
			add_country_modifier = {
				name = byzantium_law
				duration = -1
			}
			custom_tooltip = BYZ_PREVENT
		}
	}
}

roman_tree_conquest_fourth = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_conquest
	}
	has_country_shield = yes

	vsg_mesopotamia = {
		icon = mission_cradle_of_civilization
		required_missions = { vsg_restored_rome }
		position = 2
		
		provinces_to_highlight = {  
		    province_id = 410
		}

		trigger = {
			410 = { country_or_non_sovereign_subject_holds = ROOT }
			410 = { development = 30 }
			410 = { has_tax_building_trigger = yes }
			410 = { has_production_building_trigger = yes }
			410 = { has_trade_building_trigger = yes }
		}

		effect = {
			410 = {
				change_culture = greco_roman
				change_religion = ROOT
				add_permanent_province_modifier = {
					name = byz_seleucia
					duration = -1
				}
				upgrade_tax_building = yes
			}
		}
	}

	vsg_roman_sun = {
		icon = mission_rule_of_the_sun
		required_missions = { vsg_odyssey }
		position = 3
		
		provinces_to_highlight = {
			OR = {
				colonial_region = colonial_peru
				colonial_region = colonial_brazil
				colonial_region = colonial_la_plata
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					colonial_region = colonial_peru
					colonial_region = colonial_brazil
					colonial_region = colonial_la_plata
				}
				value = 40
			}
		}
		
		effect = {
			add_years_of_income = 2
			add_country_modifier = {
				name = gen_treasure_fleets
				duration = 7300
			}
			define_advisor = {
				type = colonist
				skill = 3
				cost_multiplier = 0.1
			}
			if = {
				limit = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						trade_goods = gold
						value = 4
					}
				}
				custom_tooltip = GEN_GOLD_YES
				add_inflation = -4
			}
			else = {
				custom_tooltip = GEN_GOLD_NO
				tooltip = {
					add_inflation = -4
				}
			}
		}
	}

	vsg_punics = {
		icon = mission_punic
		position = 4
		required_missions = { vsg_newworld_base }
		
		provinces_to_highlight = {
			OR = {
				region = northeast_america_region
				region = southeast_america_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			northeast_america_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			southeast_america_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
		}
		
		effect = {
			965 = {
				change_trade_goods = salt
			}
			add_country_modifier = {
				name = byz_punics_defeated
				duration = 10950
			}
			north_america_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = { exists = CTG }
				}
				custom_tooltip = BYZ_PUNICS_GONE_YES
				hidden_effect = {
					every_province = {
						limit = {
							culture_group = punic_g
						}
						add_devastation = 100
						add_base_tax = -10
						add_base_production = -10
						add_base_manpower = -10
						change_culture = owner
					}
				}
			}
			else = {
				custom_tooltip = BYZ_PUNICS_GONE_NO
			}
		}
	}

	vsg_cities_byzantine = {
		icon = mission_ottoman_law
		required_missions = { }
		position = 7

		provinces_to_highlight = {
			OR = {
				province_id = 151
				province_id = 146
			    province_id = 148
		      	province_id = 145
		      	province_id = 317
				province_id = 318
				province_id = 358
				province_id = 2313
			}
		}

		trigger = {
			151 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
		    146 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			148 = {
			    province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			145 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			317 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			318 = {
			    province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			358 = {
				province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
			2313 = {
			    province_is_diocese_land_trigger = yes
				development = 22
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
			}
		}

		effect = {
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 151
							province_id = 146
							province_id = 148
							province_id = 145
							province_id = 317
							province_id = 318
							province_id = 358
							province_id = 2313
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = tlw_rome.0
						}
					}
				}
			}
		}
	}

	vsg_wall = {
		icon = byz_reinforce_constantinople
		required_missions = { }
		position = 9

		provinces_to_highlight = { 
			province_id = 151
		}

		trigger = {
			mil_power = 200
			manpower = 25
			treasury = 2500
			advisor = fortification_expert
			151 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			151 = {
				has_any_ongoing_construction = no
			}
		}

		effect = {
			add_mil_power = -200
			add_manpower = -25
			add_treasury = -2500
			custom_tooltip = BYZ_CREATE_MONUMENT
			set_country_flag = byzantine_monument_flag
			hidden_effect = {
				151 = {
					add_great_project = {
						type = theodosian
						instant = yes
					}
				}
				151 = {
					add_great_project_tier = {
						type = theodosian
						tier = 3
					}
				}
			}
		}
	}
}

roman_tree_conquest_fifth = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_conquest
	}
	has_country_shield = yes

	vsg_odyssey = {
		icon = mission_look_west
		required_missions = { vsg_restored_rome }
		position = 2
				
		provinces_to_highlight = {
			owned_by = ROOT
			is_colony = yes
		}

		trigger = {
			num_of_colonies = 3
		}
		
		effect = {
			create_explorer = { tradition = 50 }
			add_country_modifier = {
				name = byzantium_colonies
				duration = 9125
			}
		}
	}

	vsg_newworld_base = {
		icon = mission_caribbean_cn
		position = 3
		required_missions = { vsg_odyssey }
		
		provinces_to_highlight = {
			OR = {
				colonial_region = colonial_the_carribean
				colonial_region = colonial_mexico
				colonial_region = colonial_colombia
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					colonial_region = colonial_the_carribean
					colonial_region = colonial_mexico
					colonial_region = colonial_colombia
				}
				value = 40
			}
		}
		
		effect = {
			create_conquistador = { tradition = 75 }
			add_country_modifier = {
				name = byz_america_base
				duration = 10950
			}
			northeast_america_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			southeast_america_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_conquer_seas = {
		icon = mission_the_triangle_trade
		position = 4
		required_missions = { vsg_newworld_base }
				
		provinces_to_highlight = {
			owner_is_colonial_nation = yes
			country_or_non_sovereign_subject_holds = ROOT
			has_discovered = ROOT
		}
		
		trigger = {
			calc_true_if = {
				all_subject_country = {
					is_colonial_nation = yes
				}
				amount = 12
			}
		}
		
		effect = {
			country_event = {
				id = ab_byzantium.60
			}
		}
	}

	vsg_money = {
		icon = dominant_economy
		required_missions = { }
		position = 7

		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 151
					NOT = {
						trade_share = {
							country = ROOT
							share = 80
						}
					}
				}
				AND = {
					province_id = 358
					NOT = {
						trade_share = {
							country = ROOT
							share = 60
						}
					}
				}
				AND = {
					province_id = 377
					NOT = {
						trade_share = {
							country = ROOT
							share = 60
						}
					}
				}
			}
		}
		
		trigger = {  
		    NOT = { num_of_loans = 1 }
			151 = {
				trade_share = {
					country = ROOT
					share = 80
				}
			}
			358 = {
				trade_share = {
					country = ROOT
					share = 60
				}
			}
			377 = {
				trade_share = {
					country = ROOT
					share = 60
				}
			}
			OR = {
				monthly_adm = 12
				full_idea_group = economic_ideas
			}
			advisor = treasurer
		}

		effect = {
		    set_country_flag = rmg_monetary_policy_no_power_cost_flag
			add_inflation = -5
			add_country_modifier = {
				name = byz_gold_standard
				duration = -1
			}
			custom_tooltip = RMG_MONETARY_POLICY_NO_POWER
		}
	}

	vsg_roads = {
		icon = mission_royal_roads
		position = 8
		required_missions = { vsg_money }

		provinces_to_highlight = {
			owned_by = ROOT
			has_road_building_trigger = no
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 100
				has_road_building_trigger = yes
			}
		}

		effect = {
			set_country_flag = byz_building_roads_bonus
			add_country_modifier = {
				name = byz_roads
				duration = -1
			}
			custom_tooltip = BYZ_BUILDING_ROADS_BONUS
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_road_building_trigger = yes
					}
					add_province_modifier = {
						name = byz_roads_province
						duration = -1
					}
				}
			}
		}
	}

	vsg_wonders = {
		icon = mission_romanwonders
		position = 10
		required_missions = { vsg_roads }

		provinces_to_highlight = {
			province_is_diocese_land_trigger = yes
			has_great_project = {
				type = any
				tier = 0
			}
			NOT = {
				has_great_project = {
					type = any
					tier = 3
				}
			}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				province_is_diocese_land_trigger = yes
				has_great_project = {
					type = any
					tier = 3
				}
			}
			reform_level = 6
		}

		effect = {
			unlock_government_reform = {
				government_reform = byzengineering
			}
			custom_tooltip = AB_EMPTY
			add_government_reform = byzengineering
		}
	}
}

# Persian War
roman_tree_persian_war_fourth = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_persian
	}
	has_country_shield = yes

	vsg_georgia = {
		icon = mission_georgia
		required_missions = { vsg_persia }
		position = 2

		provinces_to_highlight = {
			region = caucasia_region
			NOT = { area = circassia_area }
			NOT = { area = dagestan_area }
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			samtskhe_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			kartli_kakheti_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			imereti_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			armenia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			shirvan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			country_event = {
				id = ab_byzantium.78
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = per_looting
				duration = 7300
			}
			if = {
				limit = {
					circassia_area = {
						type = all
						owned_by = UKR
					}
					dagestan_area = {
						type = all
						owned_by = UKR
					}
				}
				custom_tooltip = BYZ_RUS_CAUCASIA_YES
				circassia_area = {
					change_culture = romano_scythic
					change_religion = ROOT
				}
				dagestan_area = {
					change_culture = romano_scythic
					change_religion = ROOT
				}
			}
			else = {
				custom_tooltip = BYZ_RUS_CAUCASIA_NO
				tooltip = {
					circassia_area = {
						change_culture = romano_scythic
						change_religion = ROOT
					}
					dagestan_area = {
						change_culture = romano_scythic
						change_religion = ROOT
					}
				}
			}
		}
	}

	vsg_persosphere = {
		icon = mission_iran
		required_missions = { }
		position = 3

		provinces_to_highlight = {
			province_is_diocese_land_trigger = yes
			culture = perso_roman
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				province_is_diocese_land_trigger = yes
				culture = perso_roman
			}
		}

		effect = {
			set_country_flag = unlocked_faction_romepersian
			set_country_flag = byz_faster_romanization_persia
			custom_tooltip = BYZ_PERSIAN_CAPITALS
			custom_tooltip = AB_EMPTY
			custom_tooltip = PER_ADM_DEV
			hidden_effect = {
                for = {
                    amount = 10
                    effect = "
                        random_owned_province = {
							limit = {
								region = persia_region
							}
							add_base_tax = 1
                        }
                    "
                }
				add_faction = faction_byzpersian
				add_faction_influence = {
					faction = faction_byzpersian
					influence = 20
				}
			}
		}
	}

	vsg_cities_persian = {
		icon = per_purify_the_holy_sites
		required_missions = { vsg_persosphere }
		position = 4

		provinces_to_highlight = {
		    OR = {
				province_id = 416
			    province_id = 428
		      	province_id = 429
		      	province_id = 2218
				province_id = 431
				province_id = 4341
				province_id = 445
				province_id = 451
			}
			has_discovered = ROOT
		}

		trigger = {
		    416 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			428 = {
			    province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			429 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			2218 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			431 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			4341 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			445 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
			451 = {
				province_is_diocese_land_trigger = yes
				development = 32
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
			}
		}

		effect = {
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 416
							province_id = 428
							province_id = 429
							province_id = 2218
							province_id = 431
							province_id = 4341
							province_id = 445
							province_id = 451
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = tlw_rome.0
						}
					}
				}
			}
		}
	}
}

roman_tree_persian_war_fifth = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_persian
	}
	has_country_shield = yes

	vsg_persia = {
		icon = per_tab_ziyarids_successor
		required_missions = { }
		position = 1

		provinces_to_highlight = {
			region = persia_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			persia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			persia_region = {
				add_local_autonomy = -50
				add_province_modifier = {
					name = per_restored_iran
					duration = 9125
				}
			}
			if = {
				limit = {
					UKR = {
						is_subject_of_type = grand_diocese_vassal
					}
				}
				custom_tooltip = UKR_IS_OUR_DIOCESE_YES
				central_asia_region = {
					limit = {
						NOT = { is_core = UKR }
						NOT = { is_permanent_claim = UKR }
					}
					add_permanent_claim = UKR
				}
			}
			else = {
				custom_tooltip = UKR_IS_OUR_DIOCESE_NO
				tooltip = {
					central_asia_region = {
						limit = {
							NOT = { is_core = UKR }
							NOT = { is_permanent_claim = UKR }
						}
						add_permanent_claim = UKR
					}
				}
			}
		}
	}

	vsg_turkmen = {
		icon = mission_central_asian_steppes
		required_missions = { vsg_persia }
		position = 2

		provinces_to_highlight = {
			region = central_asia_region
			NOT = { owned_by = UKR }
			has_discovered = ROOT
		}

		trigger = {
			num_of_mercenaries = 100
			central_asia_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}

		effect = {
			set_country_flag = ab_free_mercs
			custom_tooltip = PER_FREE_MERCS
			custom_tooltip = AB_EMPTY
			central_asia_region = {
				add_province_modifier = {
					name = byz_integrate_turkmen
					duration = 7300
				}
			}
			add_country_modifier = {
				name = per_turkic_mercenaries
				duration = -1
			}
		}
	}

	vsg_ariana = {
		icon = mission_silk_road
		required_missions = { }
		position = 3

		provinces_to_highlight = {
			region = khorasan_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			khorasan_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			set_country_flag = commandants_give_global_supply_limit_modifier
			define_advisor = {
				type = commandant
				skill = 3
				culture = perso_roman
				cost_multiplier = 0.5
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_COMMANDANT_SCALING
			custom_tooltip = AB_EMPTY
			northern_sindh_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			sindh_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			multan_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lahore_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			sind_sagar_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			kashmir_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_invade_india = {
		icon = mission_rb_take_north_india
		required_missions = { vsg_ariana }
		position = 4

		provinces_to_highlight = {
			OR = {
				area = sindh_area
				area = northern_sindh_area
				area = multan_area
				area = kashmir_area
				area = sind_sagar_area
				area = lahore_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			sindh_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			northern_sindh_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			multan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			kashmir_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			sind_sagar_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			lahore_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_yearly_manpower = 4
			add_country_modifier = {
				name = byz_invade_india
				duration = 7300
			}
			west_india_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT 
			}
			hindusthan_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT 
			}
		}
	}

	vsg_maharajas = {
		icon = mission_indian_empire
		required_missions = { vsg_invade_india }
		position = 5

		provinces_to_highlight = {
			superregion = india_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 100
				superregion = india_superregion
			}
		}

		effect = {
			india_superregion = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_province_modifier = {
					name = byz_integrate_indian
					duration = 7300
				}
			}
			add_country_modifier = {
				name = yua_horde_claim_india
				duration = 9125
			}
			india_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					has_country_modifier = byz_invade_india
				}
				custom_tooltip = BYZ_SPEEDRUN_INDIA_YES
				set_country_flag = byz_faster_romanization_india
			}
			else = {
				custom_tooltip = BYZ_SPEEDRUN_INDIA_NO
			}
		}
	}
}

# Dragon Emperor
roman_tree_dragon_emperor_first = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_chinese
	}
	has_country_shield = yes

	vsg_tibet = {
		icon = mission_lhasa
		required_missions = { }
		position = 1

		provinces_to_highlight = {
			region = tibet_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 18
				region = tibet_region
			}
		}

		effect = {
			set_country_flag = byz_religious_diplomats_buff
			define_advisor = {
				type = theologian
				skill = 3
				religion = vajrayana
				culture = tibeto_roman
				cost_multiplier = 0.25
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_RELIGIOUS_DIPLOMATS_PRIVILEGE
			custom_tooltip = AB_EMPTY
			xinan_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			north_china_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					UKR = {
						is_subject_of_type = grand_diocese_vassal
					}
				}
				custom_tooltip = UKR_IS_OUR_DIOCESE_YES
				mongolia_region = {
					limit = {
						NOT = { is_core = UKR }
						NOT = { is_permanent_claim = UKR }
					}
					add_permanent_claim = UKR
				}
			}
			else = {
				custom_tooltip = UKR_IS_OUR_DIOCESE_NO
				tooltip = {
					mongolia_region = {
						limit = {
							NOT = { is_core = UKR }
							NOT = { is_permanent_claim = UKR }
						}
						add_permanent_claim = UKR
					}
				}
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = { mission_completed = vsg_burma }
				}
				custom_tooltip = BYZ_CONQUER_TIBET_FIRST_YES
				set_country_flag = byz_conquer_tibet_first
			}
			else = {
				custom_tooltip = BYZ_CONQUER_TIBET_FIRST_NO
			}
		}
	}

	vsg_mongolia = {
		icon = mission_unify_mongolia
		required_missions = { vsg_tibet }
		position = 3

		provinces_to_highlight = {
			region = mongolia_region
			NOT = { owned_by = UKR }
			has_discovered = ROOT
		}

		trigger = {
			mongolia_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}

		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
			add_country_modifier = {
				name = china_integrate_mongol
				duration = -1
			}
			liaoning_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			korea_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			japan_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					UKR = {
						is_subject_of_type = grand_diocese_vassal
					}
				}
				custom_tooltip = UKR_IS_OUR_DIOCESE_YES
				manchuria_region = {
					limit = {
						NOT = { is_core = UKR }
						NOT = { is_permanent_claim = UKR }
						NOT = { area = liaoning_area }
					}
					add_permanent_claim = UKR
				}
			}
			else = {
				custom_tooltip = UKR_IS_OUR_DIOCESE_NO
				tooltip = {
					manchuria_region = {
						limit = {
							NOT = { is_core = UKR }
							NOT = { is_permanent_claim = UKR }
							NOT = { area = liaoning_area }
						}
						add_permanent_claim = UKR
					}
				}
			}
		}
	}

	vsg_far_east = {
		icon = jap_financial_cliques
		required_missions = { vsg_mongolia }
		position = 5

		provinces_to_highlight = {
			superregion = far_east_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			735 = { country_or_non_sovereign_subject_holds = ROOT }
			1020 = { country_or_non_sovereign_subject_holds = ROOT }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 50
				superregion = far_east_superregion
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_fareast
			country_event = {
				id = ab_byzantium.81
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_FAR_EAST_CAPITALS
			custom_tooltip = AB_EMPTY
			oceanea_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

roman_tree_dragon_emperor_second = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_chinese
	}
	has_country_shield = yes

	vsg_invade_china = {
		icon = mission_jaded
		required_missions = { vsg_tibet vsg_burma }
		position = 2

		provinces_to_highlight = {
			superregion = china_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 50
				superregion = china_superregion
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_china
			set_country_flag = unlocked_faction_romechinese
			enable_estate_effect = {
				estate = estate_eunuchs
			}
			custom_tooltip = BYZ_CHINESE_CAPITALS
			custom_tooltip = AB_EMPTY
			custom_tooltip = BYZ_CHINA_ADM_DEV
			hidden_effect = {
                for = {
                    amount = 20
                    effect = "
                        random_owned_province = {
							limit = {
								superregion = china_superregion
							}
							add_base_tax = 1
                        }
                    "
                }
				add_faction = faction_byzchinese
				add_faction_influence = {
					faction = faction_byzchinese
					influence = 15
				}
			}
			custom_tooltip = AB_EMPTY
			china_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_cities_chinese = {
		icon = mission_asian_city
		required_missions = { vsg_invade_china }
		position = 4

		provinces_to_highlight = {
		    OR = {
				province_id = 1816
				province_id = 667
		    	province_id = 1821
		    	province_id = 679
				province_id = 700
				province_id = 672
				province_id = 682
				province_id = 684
			}
			has_discovered = ROOT
		}

		trigger = {
		    1816 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			667 = {
			    province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			1821 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			679 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			700 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			672 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			682 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
			684 = {
				province_is_diocese_land_trigger = yes
				development = 37
				has_tax_building_trigger = yes
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_courthouse_building_trigger = yes
				has_manufactory_trigger = yes
				has_building = university
				has_road_building_trigger = yes
			}
		}

		effect = {
			custom_tooltip = BYZ_DEVELOP_CITIES_REWARD_TT
			tooltip = {
				add_province_modifier = {
                    name = byz_city
				    duration = -1
				}
				upgrade_trade_building = yes
			}
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							province_id = 1816
							province_id = 667
							province_id = 1821
							province_id = 679
							province_id = 700
							province_id = 672
							province_id = 682
							province_id = 684
						}
					}
					add_permanent_province_modifier = {
						name = byz_city
						duration = -1
					}
					upgrade_trade_building = yes
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 1
					}
					if = {
						limit = {
							NOT = { culture_group = roman_g }
						}
						province_event = {
							id = tlw_rome.0
						}
					}
				}
			}
		}
	}
}

roman_tree_dragon_emperor_third = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = ROM
		has_country_flag = ab_missionswitch_rome_chinese
	}
	has_country_shield = yes

	vsg_burma = {
		icon = mission_conquer_lower_burma_tau
		required_missions = { }
		position = 1

		provinces_to_highlight = {
			region = burma_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 22
				region = burma_region
			}
		}

		effect = {
			country_event = {
				id = flavor_mch.12
			}
			custom_tooltip = AB_EMPTY
			xinan_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			indo_china_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			custom_tooltip = AB_EMPTY
			if = {
				limit = {
					NOT = { mission_completed = vsg_tibet }
				}
				custom_tooltip = BYZ_CONQUER_BURMA_FIRST_YES
				set_country_flag = byz_conquer_burma_first
			}
			else = {
				custom_tooltip = BYZ_CONQUER_BURMA_FIRST_NO
			}
		}
	}

	vsg_indochina = {
		icon = mission_rule_indochina
		required_missions = { vsg_burma }
		position = 3

		provinces_to_highlight = {
			region = indo_china_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 45
				region = indo_china_region
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_indochina
			custom_tooltip = BYZ_SEA_MAINLAND_CAPITALS
			custom_tooltip = AB_EMPTY
			add_absolutism = 10
			add_country_modifier = {
				name = byz_wealth_of_indochina
				duration = -1
			}
			east_indies_superregion = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_east_indies = {
		icon = mission_las_islas_filipinas
		required_missions = { vsg_indochina }
		position = 5

		provinces_to_highlight = {
			superregion = east_indies_superregion
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 100
				superregion = east_indies_superregion
			}
		}

		effect = {
			set_country_flag = byz_faster_romanization_eastindies
			custom_tooltip = BYZ_SEA_MARITIME_CAPITALS
			custom_tooltip = AB_EMPTY
			change_price = {
                trade_goods = spices
                key = "Monopolization of Spices"
                value = 0.15
                duration = -1
            }
			add_country_modifier = {
				name = gor_spice_trade
				duration = -1
			}
			oceanea_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	vsg_asia = {
		icon = mission_warring
		required_missions = { vsg_far_east vsg_east_indies vsg_maharajas }
		position = 6

		provinces_to_highlight = {
			OR = {
				AND = {
					OR = {
						superregion = far_east_superregion
						superregion = china_superregion
						superregion = east_indies_superregion
						superregion = india_superregion
						region = oceanea_region
					}
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
				AND = {
					region = east_siberia_region
					NOT = { owned_by = UKR }
				}
			}
			has_discovered = ROOT
		}

		trigger = {
			far_east_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			china_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			east_indies_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			india_superregion = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			oceanea_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			east_siberia_region = {
				type = all
				owned_by = UKR
			}
			UKR = {
				is_subject_of = ROOT
				trust = { who = ROOT value = 100 }
				NOT = { liberty_desire = 1 }
			}
		}

		effect = {
			country_event = {
				id = ab_byzantium.82
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = yua_china_tiger
				duration = 18250
			}
		}
	}
}