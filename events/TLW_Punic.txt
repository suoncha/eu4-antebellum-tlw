namespace = ab_punic
normal_or_historical_nations = yes

## NORMAL EVENTS
#Trade company & colony culture spread
province_event = {
	id = ab_punic.0
	title = ab_punic.0.t
	desc = ab_punic.0.d
	picture = CULTURE_eventPicture
	
	hidden = yes
		
	trigger = {
		NOT = { culture = owner }
		OR = {
			owner = {
				is_colonial_nation = yes
			}
			AND = {
				is_owned_by_trade_company = yes
				num_investments_in_trade_company_region = {
					investment = trade_company_cultural_center
					value = 1
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 600
		modifier = {
			factor = 0.5
			religion_group = owner
		}
		modifier = {
			factor = 0.1
			culture_group = owner
		}
	}

	option = {
		name = ab_punic.0.a
		change_culture = owner
		change_original_culture = owner
	}
}

#Punic Peace
country_event = {
	id = ab_punic.1
	title = ab_punic.1.t
	desc = ab_punic.1.d
	picture = DHOW_AT_SEA_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = {
					name = punic_peace_ai
					duration = -1
				}
			}
			else = {
				add_country_modifier = {
					name = punic_peace
					duration = -1
				}
			}
		}
	}
	
	option = {
		name = ab_punic.1.a
		tooltip = {
			add_adm_tech = 2
			add_dip_tech = 2
			add_mil_tech = 2
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = punic_peace
				duration = -1
			}
		}
		custom_tooltip = PUNIC_EARLY_EVENT_CHAIN
	}
}

#North America Setup
country_event = {
	id = ab_punic.2
	title = ab_punic.2.t
	desc = ab_punic.2.d
	picture = DHOW_AT_SEA_eventPicture
	
	is_triggered_only = yes

	hidden = yes
	
	option = {
		name = ab_punic.2.a
		every_country = {
			limit = {
				tlw_is_american_trigger = yes
			}
			set_country_flag = no_colonial_nations
			# Punic League
			if = {
				limit = {
					primary_culture = punic
				}
				country_event = {
					id = ab_punic.1
				}
			}
		}
	}
}

#AI Earlier Colonization Buff
country_event = {
    id = ab_punic.19
    title = ab_punic.19.t
    desc = ab_punic.19.d
    picture = POPE_PREACHING_eventPicture
    
    is_triggered_only = yes

    hidden = yes
    
    option = {
        name = ab_punic.19.a
        create_explorer = { tradition = 100 }
        add_country_modifier = {
            name = punic_earlier_ai_colonization
            duration = 12775
        }
        every_province = {
            limit = {
                OR = {
                    region = carribeans_region
                    area = macaronesia_area
                    area = greenland_area
                    area = newfoundland_area
                }
            }
            ROOT = {
                discover_province = PREV
            }
        }
    }
}