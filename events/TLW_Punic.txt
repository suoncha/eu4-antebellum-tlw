namespace = ab_punic
normal_or_historical_nations = yes

## NORMAL EVENTS
#Trade company & colony culture spread
province_event = {
	id = ab_punic.0
	title = ab_punic.0.t
	desc = ab_punic.0.d
	picture = CULTURE_eventPicture
	
	hidden = yes
		
	trigger = {
		NOT = { culture = owner }
		OR = {
			AND = {
				owner = {
					is_colonial_nation = yes
				}
				OR = {
					NOT = { nationalism = 1 }
					culture_group = owner
				}
			}
			AND = {
				is_owned_by_trade_company = yes
				num_investments_in_trade_company_region = {
					investment = trade_company_cultural_center
					value = 1
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 600
		modifier = {
			factor = 0.5
			religion_group = owner
		}
		modifier = {
			factor = 0.1
			culture_group = owner
		}
	}

	option = {
		name = ab_punic.0.a
		change_culture = owner
		change_original_culture = owner
	}
}

#Punic Peace
country_event = {
	id = ab_punic.1
	title = ab_punic.1.t
	desc = ab_punic.1.d
	picture = DHOW_AT_SEA_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			add_adm_tech = 2
			add_dip_tech = 2
			add_mil_tech = 2
			add_country_modifier = {
				name = punic_peace
				duration = -1
			}
		}
	}
	
	option = {
		name = ab_punic.1.a
		custom_tooltip = PUNIC_EARLY_EVENT_CHAIN
		tooltip = {
			add_adm_tech = 2
			add_dip_tech = 2
			add_mil_tech = 2
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = punic_peace
				duration = -1
			}
		}
	}
}

#North America Setup
country_event = {
	id = ab_punic.2
	title = ab_punic.2.t
	desc = ab_punic.2.d
	picture = DHOW_AT_SEA_eventPicture
	
	is_triggered_only = yes
	
	fire_only_once = yes

	hidden = yes
	
	option = {
		name = ab_punic.2.a
		every_country = {
			limit = {
				technology_group = north_american
			}
			if = {
				limit = {
					primitives = no
				}
				if = {
					limit = {
						has_reform = steppe_horde
					}
					set_estate_privilege = estate_nomadic_tribes_punic_primitive_horde
				}
				else = {
					set_estate_privilege = estate_church_punic_primitive_administration
					set_estate_privilege = estate_nobles_punic_pacifist_civilization
					set_estate_privilege = estate_burghers_punic_isolationism
					set_estate_privilege = estate_church_punic_religious_tolerance
				}
			}
			# Punic League
			if = {
				limit = {
					culture = punic
				}
				country_event = {
					id = ab_punic.1
				}
			}
		}
	}
}

#Discovery of the New World
country_event = {
	id = ab_punic.3
	title = ab_punic.3.t
	desc = ab_punic.3.d
	picture = USA_EXPLORERS_eventPicture

	major = yes

	major_trigger = {
		capital_scope = {
			OR = {
				continent = europe
				region = maghreb_region
				region = egypt_region
			}
		}
	}

	fire_only_once = yes
	
	trigger = {
		any_province = {
			OR = {
				continent = north_america
				continent = south_america
			}
			NOT = { province_id = 1804 }
			NOT = { area = greenland_area }
			is_wasteland = no
			has_discovered = ROOT
		}
		capital_scope = {
			OR = {
				continent = europe
				region = maghreb_region
				region = egypt_region
			}
		}
		NOT = { has_global_flag = new_world_discovered }
	}

	immediate = {
		hidden_effect = {
			set_global_flag = new_world_discovered
		}
	}

	option = {
		name = ab_punic.3.a
		add_navy_tradition = 25
		add_country_modifier_for_age = {
			name = punic_discovery_of_north_america
			age = age_of_discovery
		}
	}
}

#A Strange Yet Familiar World
country_event = {
	id = ab_punic.4
	title = ab_punic.4.t
	desc = {
		trigger = {
			any_country = {
				culture_group = eastern_algonquian
				capital_scope = {
					has_discovered = ROOT
				}
			}
			NOT = {
				any_country = {
					culture_group = punic_g
					capital_scope = {
						has_discovered = ROOT
					}
				}
			}
		}
		desc = ab_punic.4.d1
	}
	desc = {
		trigger = {
			any_country = {
				culture_group = punic_g
				capital_scope = {
					has_discovered = ROOT
				}
			}
		}
		desc = ab_punic.4.d2
	}
	picture = DHOW_AT_SEA_eventPicture

	fire_only_once = yes
	
	trigger = {
		any_country = {
			OR = {
				culture_group = eastern_algonquian
				culture_group = punic_g
			}
			capital_scope = {
				has_discovered = ROOT
			}
		}
		capital_scope = {
			OR = {
				continent = europe
				region = maghreb_region
				region = egypt_region
			}
		}
		NOT = { has_global_flag = europe_discovered_punics }
		has_global_flag = new_world_discovered
	}

	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					OR = {
						culture_group = eastern_algonquian
						culture_group = punic_g
					}
					capital_scope = {
						has_discovered = ROOT
					}
				}
				set_country_flag = europe_discovered_punics_native_tag
				save_event_target_as = discoveredCountry
			}
			set_country_flag = europe_discovered_punics_europe_tag
			set_global_flag = europe_discovered_punics
		}
	}

	option = {
		name = ab_punic.4.a
		trigger = {
			NOT = {
				AND = {
					tag = BYZ
					event_target:discoveredCountry = {
						culture_group = punic_g
					}
				}
			}
		}
		ai_chance = { factor = 100 }
		add_treasury = -200
		event_target:discoveredCountry = {
			set_country_flag = pun_receive_colonizer_gift
			country_event = {
				id = ab_punic.5
			}
		}
	}

	option = {
		name = ab_punic.4.b
		ai_chance = { factor = 0 }
		event_target:discoveredCountry = {
			country_event = {
				id = ab_punic.5
			}
		}
	}
}

#Visitors Beyond the Sea
country_event = {
	id = ab_punic.5
	title = ab_punic.5.t
	desc = {
		trigger = {
			has_country_flag = pun_receive_colonizer_gift
		}
		desc = ab_punic.5.d1
	}
	desc = {
		trigger = {
			NOT = { has_country_flag = pun_receive_colonizer_gift }
		}
		desc = ab_punic.5.d2
	}
	picture = 15_Trade_Company_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = {
				capital_scope = {
					ROOT = {
						discover_province = PREV
					}
					save_event_target_as = capitalProv
				}
			}
		}
	}

	goto = capitalProv

	after = {
		hidden_effect = {
			clr_country_flag = pun_receive_colonizer_gift
			every_country = {
				limit = {
					technology_group = north_american
					NOT = { tag = ROOT }
				}
				country_event = {
					id = ab_punic.8
					days = 30
					random = 60
				}
			}
			every_country = {
				limit = {
					capital_scope = {
						OR = {
							continent = europe
							region = maghreb_region
							region = egypt_region
						}
					}
					NOT = { tag = BYZ }
					NOT = { tag = FROM }
				}
				country_event = {
					id = ab_punic.9
					days = 60
					random = 60
				}
			}
			if = {
				limit = {
					FROM = {
						tag = BYZ
					}
				}
				BYZ = {
					country_event = {
						id = ab_byzantium.61
						days = 1
					}
				}
			}
			else_if = {
				limit = {
					exists = BYZ
				}
				BYZ = {
					country_event = {
						id = ab_byzantium.61
						days = 60
						random = 60
					}
				}
			}
		}
	}
	
	option = {
		name = ab_punic.5.a
		trigger = {
			has_country_flag = pun_receive_colonizer_gift
		}
		ai_chance = { factor = 100 }
		add_treasury = 200
		add_opinion = {
			who = FROM
			modifier = opinion_received_gift
		}
		tooltip = {
			discover_province = event_target:capitalProv
		}
		custom_tooltip = AB_EMPTY
		custom_tooltip = PUN_SHARING_MAP_BEYOND_THE_SEA_FROM
		hidden_effect = {
			every_province = {
				limit = {
					culture_group = ROOT
					is_city = yes
				}
				FROM = {
					discover_province = PREV
				}
			}
			FROM = {
				country_event = {
					id = ab_punic.6
				}
			}
		}
	}

	option = {
		name = ab_punic.5.b
		trigger = {
			has_country_flag = pun_receive_colonizer_gift
		}
		ai_chance = { factor = 0 }
		tooltip = {
			discover_province = event_target:capitalProv
		}
		hidden_effect = {
			FROM = {
				country_event = {
					id = ab_punic.7
				}
			}
		}
	}

	option = {
		name = ab_punic.5.c
		trigger = {
			NOT = { has_country_flag = pun_receive_colonizer_gift }
		}
	}
}

#Locals Accept Our Gift
country_event = {
	id = ab_punic.6
	title = ab_punic.6.t
	desc = ab_punic.6.d
	picture = muslimgfx_MERCHANTS_TALKING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ab_punic.6.a
		tooltip = {
			FROM = {
				add_opinion = {
					who = ROOT
					modifier = opinion_received_gift
				}
			}
		}
		custom_tooltip = AB_EMPTY
		custom_tooltip = PUN_SHARING_MAP_BEYOND_THE_SEA_ROOT
	}
}

#Locals Refuse Our Gift
country_event = {
	id = ab_punic.7
	title = ab_punic.7.t
	desc = ab_punic.7.d
	picture = muslimgfx_BAD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ab_punic.7.a
		add_treasury = 200
	}
}

#A Strange Yet Familiar World - North America Nof
country_event = {
	id = ab_punic.8
	title = ab_punic.8.t
	desc = ab_punic.8.d
	picture = northamericagfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					has_country_flag = europe_discovered_punics_europe_tag
				}
				capital_scope = {
					ROOT = {
						discover_province = PREV
					}
					save_event_target_as = capitalProv
				}
				save_event_target_as = europeTag
			}
			random_country = {
				limit = {
					has_country_flag = europe_discovered_punics_native_tag
				}
				save_event_target_as = nativeTag
			}
		}
	}

	goto = capitalProv
	
	option = {
		name = ab_punic.8.a
		tooltip = {
			discover_province = event_target:capitalProv
		}
	}
}

#A Strange Yet Familiar World - Europe Nof
country_event = {
	id = ab_punic.9
	title = ab_punic.9.t
	desc = ab_punic.9.d
	picture = MERCHANTS_TALKING_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					has_country_flag = europe_discovered_punics_europe_tag
				}
				save_event_target_as = europeTag
			}
			random_country = {
				limit = {
					has_country_flag = europe_discovered_punics_native_tag
				}
				capital_scope = {
					ROOT = {
						discover_province = PREV
					}
					save_event_target_as = capitalProv
				}
				save_event_target_as = nativeTag
			}
		}
	}

	goto = capitalProv
	
	option = {
		name = ab_punic.9.a
		tooltip = {
			discover_province = event_target:capitalProv
		}
	}
}

#Gold Found in the New World
country_event = {
	id = ab_punic.10
	title = ab_punic.10.t
	desc = ab_punic.10.d
	picture = GOLDEN_CITY_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		any_province = {
			OR = {
				continent = north_america
				continent = south_america
			}
			is_city = yes
			trade_goods = gold
			has_discovered = ROOT
		}
		capital_scope = {
			OR = {
				continent = europe
				region = maghreb_region
				region = egypt_region
			}
		}
		has_global_flag = new_world_discovered
	}

	immediate = {
		hidden_effect = {
			random_province = {
				limit = {
					OR = {
						continent = north_america
						continent = south_america
					}
					is_city = yes
					trade_goods = gold
					has_discovered = ROOT
				}
				save_event_target_as = goldProv
			}
		}
	}

	goto = goldProv

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					capital_scope = {
						OR = {
							continent = europe
							region = maghreb_region
							region = egypt_region
						}
					}
					NOT = { tag = ROOT }
				}
				country_event = {
					id = ab_punic.11
					days = 60
					random = 60
				}
			}
		}
	}
	
	option = {
		name = ab_punic.10.a
		create_conquistador = { tradition = 100 }
		add_country_modifier = {
			name = punic_gold_in_new_world
			duration = 10950
		}
	}
}

#Gold Found in the New World - Europe Nof
country_event = {
	id = ab_punic.11
	title = ab_punic.11.t
	desc = ab_punic.11.d
	picture = GOLDEN_CITY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				num_of_colonists = 1
				has_idea_group = exploration_ideas
				has_idea_group = expansion_ideas
			}
		}
		name = ab_punic.11.a
		add_country_modifier = {
			name = punic_race_for_gold
			duration = 10950
		}
	}

	option = {
		trigger = {
			NOT = {
				OR = {
					num_of_colonists = 1
					has_idea_group = exploration_ideas
					has_idea_group = expansion_ideas
				}
			}
		}
		name = ab_punic.11.b
		create_explorer = { tradition = 50 }
	}
}

#European Colony Establish in North America - Hidden
country_event = {
	id = ab_punic.12
	title = ab_punic.12.t
	desc = ab_punic.12.d
	picture = COLONIZATION_eventPicture
	
	fire_only_once = yes
	
	is_triggered_only = yes

	hidden = yes
	
	option = {
		name = ab_punic.12.a
		every_country = {
			limit = {
				technology_group = north_american
			}
			country_event = {
				id = ab_punic.13
			}
		}
	}
}

#European Colony Establish in North America
country_event = {
	id = ab_punic.13
	title = ab_punic.13.t
	desc = ab_punic.13.d
	picture = COLONIZATION_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_province = {
				limit = {
					superregion = north_america_superregion
					is_city = yes
					owner = {
						capital_scope = {
							OR = {
								continent = europe
								region = maghreb_region
								region = egypt_region
							}
						}
					}
				}
				save_event_target_as = colonyProv
			}
		}
	}

	goto = colonyProv
	
	option = {
		name = ab_punic.13.a
		add_country_modifier = {
			name = punic_trading_with_europeans
			duration = -1
		}
	}
}

#The European Threat - Hidden
country_event = {
	id = ab_punic.14
	title = ab_punic.14.t
	desc = ab_punic.14.d
	picture = northamericagfx_REVOLUTION_eventPicture
	
	fire_only_once = yes

	hidden = yes

	trigger = {
		calc_true_if = {
			amount = 10
			all_province = {
				continent = north_america
				is_city = yes
				owner = {
					OR = {
						technology_group = western
						technology_group = eastern
						technology_group = muslim
					}
				}
			}
		}
	}
	
	option = {
		name = ab_punic.14.a
		set_global_flag = plague_gray_fever_enabled
		every_country = {
			limit = {
				technology_group = north_american
			}
			country_event = {
				id = ab_punic.15
			}
		}
	}
}

#The European Threat
country_event = {
	id = ab_punic.15
	title = ab_punic.15.t
	desc = ab_punic.15.d
	picture = northamericagfx_REVOLUTION_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = pun_unlock_revoking_privilege
			add_stability = -1
		}
	}
	
	option = {
		name = ab_punic.15.a
		tooltip = {
			add_stability = -1
		}
		remove_country_modifier = punic_trading_with_europeans
		custom_tooltip = AB_EMPTY
		custom_tooltip = PUN_UNLOCK_REVOKING_PRIVILEGE
	}
}

#Conquest of Paradise - Hidden
country_event = {
	id = ab_punic.16
	title = ab_punic.16.t
	desc = ab_punic.16.d
	picture = POPE_PREACHING_eventPicture
	
	fire_only_once = yes

	hidden = yes

	trigger = {
		ADU = {
			OR = {
				num_of_colonists = 1
				has_idea_group = exploration_ideas
				has_idea_group = expansion_ideas
			}
		}
		had_global_flag = {
			flag = new_world_discovered
			days = 1825
		}
	}
	
	option = {
		name = ab_punic.16.a
		every_country = {
			limit = {
				capital_scope = {
					continent = europe
				}
				religion = catholic
			}
			country_event = {
				id = ab_punic.17
			}
		}
	}
}

#Conquest of Paradise
country_event = {
	id = ab_punic.17
	title = ab_punic.17.t
	desc = ab_punic.17.d
	picture = POPE_PREACHING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ab_punic.17.a
		custom_tooltip = CATHOLIC_FINISH_COLONY
	}
}

#Disable AI Earlier Colonization
country_event = {
	id = ab_punic.18
	title = ab_punic.18.t
	desc = ab_punic.18.d
	picture = POPE_PREACHING_eventPicture
	
	is_triggered_only = yes

	hidden = yes
	
	option = {
		name = ab_punic.18.a
		clr_global_flag = AB_EARLY_COLONIZATION_PUNIC
		clr_global_flag = AB_EARLY_COLONIZATION_MAYA
		clr_global_flag = AB_EARLY_COLONIZATION_INCA
	}
}

#AI Earlier Colonization Buff
country_event = {
	id = ab_punic.19
	title = ab_punic.19.t
	desc = ab_punic.19.d
	picture = POPE_PREACHING_eventPicture
	
	is_triggered_only = yes

	hidden = yes
	
	option = {
		name = ab_punic.19.a
		create_explorer = { tradition = 100 }
		add_country_modifier = {
			name = punic_earlier_ai_colonization
			duration = 12775
		}
		every_province = {
			limit = {
				OR = {
					region = carribeans_region
					area = macaronesia_area
					area = greenland_area
					area = newfoundland_area
				}
			}
			ROOT = {
				discover_province = PREV
			}
		}
	}
}

## PLAGUE EVENTS
#The Pale Death Appear In America - Hidden
province_event = {
	id = ab_punic.1000
	title = ab_punic.1000.t
	desc = ab_punic.1000.d
	picture = PLAGUE_eventPicture
	
	fire_only_once = yes

	hidden = yes

	trigger = {
		NOT = { has_global_flag = AB_DISABLED_PLAGUES }
		has_port = yes
		continent = north_america
		NOT = { region = carribeans_region }
		NOT = { area = greenland_area }
		owner = {
			OR = {
				technology_group = western
				technology_group = eastern
				technology_group = muslim
			}
		}
		had_global_flag = {
			flag = europe_discovered_punics
			days = 3650
		}
		NOT = { has_global_flag = plague_pale_death }
	}

	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 0.5
			any_neighbor_province = {
				owner = {
					OR = {
						technology_group = western
						technology_group = eastern
						technology_group = muslim
					}
				}
			}
		}
		modifier = {
			factor = 0.5
			any_neighbor_province = {
				owner = {
					technology_group = north_american
				}
			}
		}
	}
	
	option = {
		name = ab_punic.1000.a
		set_global_flag = plague_pale_death
		add_permanent_province_modifier = {
			name = punic_pale_death_prov
			duration = 1825
		}
		owner = {
			set_country_flag = plague_pale_death_ground_zero
			country_event = {
				id = ab_punic.1002
				days = 60
			}
			if = {
				limit = {
					is_colonial_nation = yes
				}
				overlord = {
					set_country_flag = plague_pale_death_ground_zero
					country_event = {
						id = ab_punic.1002
						days = 60
					}
				}
			}
		}
		every_country = {
			limit = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				NOT = { has_country_flag = plague_pale_death_ground_zero }
			}
			country_event = {
				id = ab_punic.1002
				days = 365
			}
		}
	}
}

#The Pale Death Spread - Hidden
province_event = {
	id = ab_punic.1001
	title = ab_punic.1001.t
	desc = ab_punic.1001.d
	picture = PLAGUE_eventPicture

	hidden = yes

	trigger = {
		NOT = { has_province_modifier = punic_pale_death_prov }
		NOT = { has_province_modifier = punic_plague_doctor_immunity }
		OR = {
			any_neighbor_province = {
				has_province_modifier = punic_pale_death_prov
			}
			any_friendly_coast_border_province = {
				has_province_modifier = punic_pale_death_prov
			}
			any_empty_neighbor_province = {
				any_neighbor_province = {
					has_province_modifier = punic_pale_death_prov
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 1
		modifier = {
			factor = 6
			had_global_flag = {
				flag = plague_pale_death
				days = 30
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_pale_death
				days = 365
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_pale_death
				days = 1825
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_pale_death
				days = 3650
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_pale_death
				days = 5475
			}
		}
		modifier = {
			factor = 3
			had_global_flag = {
				flag = plague_pale_death
				days = 7300
			}
		}
		modifier = {
			factor = 3
			had_global_flag = {
				flag = plague_pale_death
				days = 10950
			}
		}
		modifier = {
			factor = 4
			owner = {
				has_country_modifier = punic_plague_enforced_quarantine
			}
		}
		modifier = {
			factor = 4
			owner = {
				has_country_modifier = punic_plague_closed_border
			}
			all_neighbor_province = {
				OR = {
					AND = {
						owned_by = ROOT
						NOT = { has_province_modifier = punic_pale_death_prov }
					}
					NOT = { owned_by = ROOT }
				}
			}
		}
		modifier = {
			factor = 1.25
			has_tax_building_trigger = yes
		}
		modifier = {
			factor = 5
			owner = {
				has_country_modifier = punic_pale_death_immunity
			}
		}
	}
	
	option = {
		name = ab_punic.1001.a
		add_permanent_province_modifier = {
			name = punic_pale_death_prov
			duration = 1825
		}
		if = {
			limit = {
				has_tax_building_trigger = yes
			}
			add_permanent_province_modifier = {
				name = punic_pale_death_cope
				duration = 1825
			}
		}
	}
}

#The Pale Death - Official Nof
country_event = {
	id = ab_punic.1002
	title = ab_punic.1002.t
	desc = {
		trigger = {
			has_country_flag = plague_pale_death_ground_zero
		}
		desc = ab_punic.1002.d1
	}
	desc = {
		trigger = {
			NOT = { has_country_flag = plague_pale_death_ground_zero }
		}
		desc = ab_punic.1002.d2
	}
	picture = northamericagfx_PLAGUE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ab_punic.1002.a
		custom_tooltip = PLAGUE_PALE_DEATH_TT
		if = {
			limit = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
			}
			custom_tooltip = AB_EMPTY
			set_country_flag = plague_unlock_decisions
			custom_tooltip = PLAGUE_UNLOCK_DECISIONS
		}
		custom_tooltip = AB_EMPTY
		custom_tooltip = PLAGUE_CHURCH_NEGATED_TT
	}
}

#The Pale Death - Native First Nof
country_event = {
	id = ab_punic.1003
	title = ab_punic.1003.t
	desc = ab_punic.1003.d
	picture = northamericagfx_FAMINE_eventPicture
	
	trigger = {
		NOT = { has_country_flag = plague_pale_death_contacted }
		capital_scope = {
			continent = north_america
		}
		any_owned_province = {
			has_province_modifier = punic_pale_death_prov
		}
		NOT = {
			had_global_flag = {
				flag = plague_pale_death
				days = 365
			}
		}
	}

	immediate = {
		hidden_effect = {
			set_country_flag = plague_pale_death_contacted
			random_owned_province = {
				limit = {
					has_province_modifier = punic_pale_death_prov
				}
				save_event_target_as = diseaseProv
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1003.a
		event_target:diseaseProv = {
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
			add_devastation = 25
		}
	}
}

#The Pale Death Died Out - Hidden
country_event = {
	id = ab_punic.1004
	title = ab_punic.1004.t
	desc = ab_punic.1004.d
	picture = northamericagfx_PLAGUE_eventPicture

	fire_only_once = yes

	hidden = yes
	
	trigger = {
		has_global_flag = plague_pale_death
		NOT = {
			any_province = {
				has_province_modifier = punic_pale_death_prov
			}
		}
	}
	
	option = {
		name = ab_punic.1004.a
		clr_global_flag = plague_pale_death
		every_country = {
			limit = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
			}
			country_event = {
				id = ab_punic.1005
			}
		}
	}
}

#The Pale Death Died Out - Official Nof
country_event = {
	id = ab_punic.1005
	title = ab_punic.1005.t
	desc = ab_punic.1005.d
	picture = northamericagfx_FEAST_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			clr_country_flag = plague_unlock_decisions
			clr_country_flag = plague_pale_death_contacted
		}
	}
	
	option = {
		name = ab_punic.1005.a
		add_stability_or_adm_power = yes
	}
}

#The Pale Death Infected Our Country
country_event = {
	id = ab_punic.1006
	title = ab_punic.1006.t
	desc = ab_punic.1006.d
	picture = northamericagfx_COUNTRY_COLLAPSE_eventPicture
	
	trigger = {
		NOT = { has_country_flag = plague_pale_death_contacted }
		capital_scope = {
			continent = north_america
		}
		any_owned_province = {
			has_province_modifier = punic_pale_death_prov
		}
		had_global_flag = {
			flag = plague_pale_death
			days = 365
		}
	}

	immediate = {
		hidden_effect = {
			set_country_flag = plague_pale_death_contacted
			random_owned_province = {
				limit = {
					has_province_modifier = punic_pale_death_prov
				}
				save_event_target_as = diseaseProv
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1006.a
		event_target:diseaseProv = {
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
			add_devastation = 25
		}
	}
}

#The Gray Fever Appear In Europe - Hidden
province_event = {
	id = ab_punic.1007
	title = ab_punic.1007.t
	desc = ab_punic.1007.d
	picture = PLAGUE_eventPicture
	
	fire_only_once = yes

	hidden = yes

	trigger = {
		NOT = { has_global_flag = AB_DISABLED_PLAGUES }
		has_port = yes
		continent = europe
		NOT = { area = subarctic_islands_area }
		has_global_flag = plague_gray_fever_enabled
		NOT = { has_global_flag = plague_gray_fever }
	}

	mean_time_to_happen = {
		months = 360
		modifier = {
			factor = 0.75
			calc_true_if = {
				all_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					owner = {
						OR = {
							technology_group = western
							technology_group = eastern
							technology_group = muslim
						}
					}
				}
				amount = 20
			}
		}
		modifier = {
			factor = 0.75
			calc_true_if = {
				all_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					owner = {
						OR = {
							technology_group = western
							technology_group = eastern
							technology_group = muslim
						}
					}
				}
				amount = 40
			}
		}
		modifier = {
			factor = 0.5
			calc_true_if = {
				all_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					owner = {
						OR = {
							technology_group = western
							technology_group = eastern
							technology_group = muslim
						}
					}
				}
				amount = 60
			}
		}
		modifier = {
			factor = 0.5
			calc_true_if = {
				all_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					owner = {
						OR = {
							technology_group = western
							technology_group = eastern
							technology_group = muslim
						}
					}
				}
				amount = 80
			}
		}
	}

	immediate = {
		hidden_effect = {
			clr_global_flag = plague_gray_fever_enabled
		}
	}
	
	option = {
		name = ab_punic.1007.a
		set_global_flag = plague_gray_fever
		add_permanent_province_modifier = {
			name = punic_gray_fever_prov
			duration = 1825
		}
		if = {
			limit = {
				any_province = {
					has_port = yes
					region = iberia_region
					owner = {
						capital_scope = {
							region = iberia_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
			}
			random_province = {
				limit = {
					has_port = yes
					region = iberia_region
					owner = {
						capital_scope = {
							region = iberia_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
			}
		}
		if = {
			limit = {
				any_province = {
					has_port = yes
					region = france_region
					owner = {
						capital_scope = {
							region = france_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
			}
			random_province = {
				limit = {
					has_port = yes
					region = france_region
					owner = {
						capital_scope = {
							region = france_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
			}
		}
		if = {
			limit = {
				any_province = {
					has_port = yes
					region = british_isles_region
					owner = {
						capital_scope = {
							region = british_isles_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
			}
			random_province = {
				limit = {
					has_port = yes
					region = british_isles_region
					owner = {
						capital_scope = {
							region = british_isles_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
			}
		}
		if = {
			limit = {
				any_province = {
					has_port = yes
					region = low_countries_region
					owner = {
						capital_scope = {
							region = low_countries_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
			}
			random_province = {
				limit = {
					has_port = yes
					region = low_countries_region
					owner = {
						capital_scope = {
							region = low_countries_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
			}
		}
		if = {
			limit = {
				any_province = {
					has_port = yes
					region = scandinavia_region
					owner = {
						capital_scope = {
							region = scandinavia_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
			}
			random_province = {
				limit = {
					has_port = yes
					region = scandinavia_region
					owner = {
						capital_scope = {
							region = scandinavia_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
			}
		}
		if = {
			limit = {
				any_province = {
					has_port = yes
					region = maghreb_region
					owner = {
						capital_scope = {
							region = maghreb_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
			}
			random_province = {
				limit = {
					has_port = yes
					region = maghreb_region
					owner = {
						capital_scope = {
							region = maghreb_region
						}
						OR = {
							num_of_colonists = 1
							has_idea_group = exploration_ideas
							has_idea_group = expansion_ideas
						}
						NOT = { tag = ROOT }
					}
				}
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					capital_scope = {
						OR = {
							continent = europe
							region = maghreb_region
							region = egypt_region
							region = mashriq_region
						}
					}
					has_country_flag = plague_gray_fever_contacted
				}
			}
			country_event = {
				id = ab_punic.1009
				days = 365
			}
		}
	}
}

#The Gray Fever Spread - Hidden
province_event = {
	id = ab_punic.1008
	title = ab_punic.1008.t
	desc = ab_punic.1008.d
	picture = PLAGUE_eventPicture

	hidden = yes

	trigger = {
		NOT = { has_province_modifier = punic_gray_fever_prov }
		NOT = { has_province_modifier = punic_plague_doctor_immunity }
		OR = {
			any_neighbor_province = {
				has_province_modifier = punic_gray_fever_prov
			}
			any_friendly_coast_border_province = {
				has_province_modifier = punic_gray_fever_prov
			}
		}
	}

	mean_time_to_happen = {
		months = 2
		modifier = {
			factor = 3
			had_global_flag = {
				flag = plague_gray_fever
				days = 60
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_gray_fever
				days = 365
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_gray_fever
				days = 1825
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_gray_fever
				days = 3650
			}
		}
		modifier = {
			factor = 2
			had_global_flag = {
				flag = plague_gray_fever
				days = 5475
			}
		}
		modifier = {
			factor = 3
			had_global_flag = {
				flag = plague_gray_fever
				days = 7300
			}
		}
		modifier = {
			factor = 3
			had_global_flag = {
				flag = plague_gray_fever
				days = 10950
			}
		}
		modifier = {
			factor = 2
			owner = {
				has_country_modifier = punic_plague_enforced_quarantine
			}
		}
		modifier = {
			factor = 3
			owner = {
				has_country_modifier = punic_plague_closed_border
			}
			all_neighbor_province = {
				OR = {
					AND = {
						owned_by = ROOT
						NOT = { has_province_modifier = punic_gray_fever_prov }
					}
					NOT = { owned_by = ROOT }
				}
			}
		}
		modifier = {
			factor = 1.25
			has_tax_building_trigger = yes
		}
		modifier = {
			factor = 5
			owner = {
				has_country_modifier = punic_gray_fever_immunity
			}
		}
	}
	
	option = {
		name = ab_punic.1008.a
		add_permanent_province_modifier = {
			name = punic_gray_fever_prov
			duration = 1825
		}
		if = {
			limit = {
				has_tax_building_trigger = yes
			}
			add_permanent_province_modifier = {
				name = punic_gray_fever_cope
				duration = 1825
			}
		}
	}
}

#The Gray Fever - Official Nof
country_event = {
	id = ab_punic.1009
	title = ab_punic.1009.t
	desc = ab_punic.1009.d
	picture = PLAGUE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ab_punic.1009.a
		custom_tooltip = PLAGUE_GRAY_FEVER_TT
		custom_tooltip = AB_EMPTY
		set_country_flag = plague_unlock_decisions
		custom_tooltip = PLAGUE_UNLOCK_DECISIONS
		custom_tooltip = AB_EMPTY
		custom_tooltip = PLAGUE_CHURCH_NEGATED_TT
	}
}

#The Gray Fever - First Nof
country_event = {
	id = ab_punic.1010
	title = ab_punic.1010.t
	desc = ab_punic.1010.d
	picture = FAMINE_eventPicture
	
	trigger = {
		NOT = { has_country_flag = plague_gray_fever_contacted }
		any_owned_province = {
			has_province_modifier = punic_gray_fever_prov
		}
		NOT = {
			had_global_flag = {
				flag = plague_gray_fever
				days = 365
			}
		}
	}

	immediate = {
		hidden_effect = {
			set_country_flag = plague_gray_fever_contacted
			random_owned_province = {
				limit = {
					has_province_modifier = punic_gray_fever_prov
				}
				save_event_target_as = diseaseProv
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1010.a
		event_target:diseaseProv = {
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
			add_devastation = 15
		}
	}
}

#The Gray Fever Died Out - Hidden
country_event = {
	id = ab_punic.1011
	title = ab_punic.1011.t
	desc = ab_punic.1011.d
	picture = PLAGUE_eventPicture

	fire_only_once = yes

	hidden = yes
	
	trigger = {
		has_global_flag = plague_gray_fever
		NOT = {
			any_province = {
				has_province_modifier = punic_gray_fever_prov
			}
		}
	}
	
	option = {
		name = ab_punic.1011.a
		clr_global_flag = plague_gray_fever
		every_country = {
			limit = {
				OR = {
					capital_scope = {
						OR = {
							continent = europe
							region = maghreb_region
							region = egypt_region
							region = mashriq_region
						}
					}
					has_country_flag = plague_gray_fever_contacted
				}
			}
			country_event = {
				id = ab_punic.1012
			}
		}
	}
}

#The Gray Fever Died Out - Official Nof
country_event = {
	id = ab_punic.1012
	title = ab_punic.1012.t
	desc = ab_punic.1012.d
	picture = FEAST_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			clr_country_flag = plague_unlock_decisions
			clr_country_flag = plague_gray_fever_contacted
		}
	}
	
	option = {
		name = ab_punic.1012.a
		add_stability_or_adm_power = yes
	}
}

#The Gray Fever Infected Our Country
country_event = {
	id = ab_punic.1013
	title = ab_punic.1013.t
	desc = ab_punic.1013.d
	picture = COUNTRY_COLLAPSE_eventPicture
	
	trigger = {
		NOT = { has_country_flag = plague_gray_fever_contacted }
		any_owned_province = {
			has_province_modifier = punic_gray_fever_prov
		}
		had_global_flag = {
			flag = plague_gray_fever
			days = 365
		}
	}

	immediate = {
		hidden_effect = {
			set_country_flag = plague_gray_fever_contacted
			random_owned_province = {
				limit = {
					has_province_modifier = punic_gray_fever_prov
				}
				save_event_target_as = diseaseProv
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1013.a
		event_target:diseaseProv = {
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
			add_devastation = 15
		}
		if = {
			limit = {
				NOT = { has_country_flag = plague_unlock_decisions }
			}
			custom_tooltip = AB_EMPTY
			set_country_flag = plague_unlock_decisions
			custom_tooltip = PLAGUE_UNLOCK_DECISIONS
		}
	}
}

#Pulse - Depleted Manpower
country_event = {
	id = ab_punic.1014
	title = ab_punic.1014.t
	desc = ab_punic.1014.d
	picture = WOUNDED_SOLDIERS_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				any_owned_province = {
					has_province_modifier = punic_pale_death_prov
				}
			}
			AND = {
				NOT = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				any_owned_province = {
					has_province_modifier = punic_gray_fever_prov
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.2
			OR = {
				has_country_modifier = punic_pale_death_immunity
				has_country_modifier = punic_gray_fever_immunity
			}
		}
		modifier = {
			factor = 0.2
			NOT = { manpower_percentage = 0.1 }
		}
		modifier = {
			factor = 2
			manpower_percentage = 0.25
		}
	}
	
	option = {
		name = ab_punic.1014.a
		add_yearly_manpower = -2
	}
}

#Pulse - Miracle Cure Rumors
country_event = {
	id = ab_punic.1015
	title = ab_punic.1015.t
	desc = ab_punic.1015.d
	picture = STREET_SPEECH_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				any_owned_province = {
					has_province_modifier = punic_pale_death_prov
				}
				NOT = { has_country_modifier = punic_pale_death_immunity }
			}
			AND = {
				NOT = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				any_owned_province = {
					has_province_modifier = punic_gray_fever_prov
				}
				NOT = { has_country_modifier = punic_gray_fever_immunity }
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			NOT = { innovativeness = 10 }
		}
		modifier = {
			factor = 2
			innovativeness = 25
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				random_owned_province = {
					limit = {
						has_province_modifier = punic_pale_death_prov
					}
					save_event_target_as = diseaseProv
				}
			}
			else = {
				random_owned_province = {
					limit = {
						has_province_modifier = punic_gray_fever_prov
					}
					save_event_target_as = diseaseProv
				}
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1015.a
		ai_chance = { factor = 40 }
		add_years_of_income = -0.25
		add_yearly_manpower = -1
		random_list = { 
			10 = {
				country_event = {
					id = ab_punic.1016
				}
			}
			90 = {
				country_event = {
					id = ab_punic.1017
				}
			}
		}
	}

	option = {
		name = ab_punic.1015.b
		ai_chance = { factor = 60 }
		add_prestige = -10
		event_target:diseaseProv = {
			add_nationalism = 5
			add_local_autonomy = 25
		}
	}
}

#Pulse - Miracle Cure Rumors - Fax
country_event = {
	id = ab_punic.1016
	title = ab_punic.1016.t
	desc = ab_punic.1016.d
	picture = REFORM_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				add_country_modifier = {
					name = punic_pale_death_immunity
					duration = -1
				}
			}
			else = {
				add_country_modifier = {
					name = punic_gray_fever_immunity
					duration = -1
				}
			}
		}
	}
	
	option = {
		name = ab_punic.1016.a
		tooltip = {
			if = {
				limit = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				add_country_modifier = {
					name = punic_pale_death_immunity
					duration = -1
				}
				custom_tooltip = PLAGUE_PALE_DEATH_IMMUNITY
			}
			else = {
				add_country_modifier = {
					name = punic_gray_fever_immunity
					duration = -1
				}
				custom_tooltip = PLAGUE_GRAY_FEVER_IMMUNITY
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = PLAGUE_BAD_EVENTS_IMMUNITY
		}
	}
}

#Pulse - Miracle Cure Rumors - Fraud
country_event = {
	id = ab_punic.1017
	title = ab_punic.1017.t
	desc = ab_punic.1017.d
	picture = WOUNDED_SOLDIERS_eventPicture

	is_triggered_only = yes
	
	option = {
		name = ab_punic.1017.a
		add_years_of_income = -0.25
		add_yearly_manpower = -1
	}
}

#Pulse - Surge in Cases
country_event = {
	id = ab_punic.1018
	title = ab_punic.1018.t
	desc = ab_punic.1018.d
	picture = PLAGUE_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				any_owned_province = {
					has_province_modifier = punic_pale_death_prov
				}
			}
			AND = {
				NOT = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				any_owned_province = {
					has_province_modifier = punic_gray_fever_prov
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.2
			OR = {
				has_country_modifier = punic_pale_death_immunity
				has_country_modifier = punic_gray_fever_immunity
			}
		}
		modifier = {
			factor = 2
			NOT = { innovativeness = 25 }
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				random_owned_province = {
					limit = {
						has_province_modifier = punic_pale_death_prov
					}
					save_event_target_as = diseaseProv
				}
			}
			else = {
				random_owned_province = {
					limit = {
						has_province_modifier = punic_gray_fever_prov
					}
					save_event_target_as = diseaseProv
				}
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1018.a
		ai_chance = { factor = 10 }
		custom_tooltip = PLAGUE_ALL_PROV_POPULATION_DIE
		hidden_effect = {
			event_target:diseaseProv = {
				add_devastation = 100
				add_base_tax = -100
				add_base_production = -100
				add_base_manpower = -100
			}
		}
	}

	option = {
		name = ab_punic.1018.b
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				OR = {
					ruler_has_personality = cruel_personality
					ruler_has_personality = craven_personality
					ruler_has_personality = petty_personality
				}
			}
		}
		event_target:diseaseProv = {
			if = {
				limit = {
					development = 20
				}
				add_base_tax = -2
				add_base_production = -2
				add_base_manpower = -2
			}
			else = {
				add_base_tax = -1
				add_base_production = -1
				add_base_manpower = -1
			}
			if = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
						NOT = {
							OR = {
								has_province_modifier = punic_pale_death_prov
								has_province_modifier = punic_gray_fever_prov
							}
						}
					}
				}
				random_neighbor_province = {
					limit = {
						owned_by = ROOT
						NOT = {
							OR = {
								has_province_modifier = punic_pale_death_prov
								has_province_modifier = punic_gray_fever_prov
							}
						}
					}
					random_list = { 
						40 = {
							province_event = {
								id = ab_punic.1019
							}
						}
						60 = { }
					}
				}
			}
		}
	}
}

#Pulse - Surge in Cases - Spread of the Plague
province_event = {
	id = ab_punic.1019
	title = ab_punic.1019.t
	desc = ab_punic.1019.d
	picture = PLAGUE_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				add_permanent_province_modifier = {
					name = punic_pale_death_prov
					duration = 1825
				}
				if = {
					limit = {
						has_tax_building_trigger = yes
					}
					add_permanent_province_modifier = {
						name = punic_pale_death_cope
						duration = 1825
					}
				}
			}
			else = {
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
				if = {
					limit = {
						has_tax_building_trigger = yes
					}
					add_permanent_province_modifier = {
						name = punic_gray_fever_cope
						duration = 1825
					}
				}
			}
		}
	}
	
	option = {
		name = ab_punic.1019.a
		add_base_tax = -1
		add_base_production = -1
		add_base_manpower = -1
		custom_tooltip = AB_EMPTY
		tooltip = {
			if = {
				limit = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				add_permanent_province_modifier = {
					name = punic_pale_death_prov
					duration = 1825
				}
				if = {
					limit = {
						has_tax_building_trigger = yes
					}
					add_permanent_province_modifier = {
						name = punic_pale_death_cope
						duration = 1825
					}
				}
			}
			else = {
				add_permanent_province_modifier = {
					name = punic_gray_fever_prov
					duration = 1825
				}
				if = {
					limit = {
						has_tax_building_trigger = yes
					}
					add_permanent_province_modifier = {
						name = punic_gray_fever_cope
						duration = 1825
					}
				}
			}
		}
	}
}

#Pulse - Shortage of Supplies
country_event = {
	id = ab_punic.1020
	title = ab_punic.1020.t
	desc = ab_punic.1020.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				any_owned_province = {
					has_province_modifier = punic_pale_death_prov
				}
			}
			AND = {
				NOT = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				any_owned_province = {
					has_province_modifier = punic_gray_fever_prov
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.2
			OR = {
				has_country_modifier = punic_pale_death_immunity
				has_country_modifier = punic_gray_fever_immunity
			}
		}
	}
	
	option = {
		name = ab_punic.1020.a
		add_adm_power = -50
		add_dip_power = -50
		add_mil_power = -50
	}
}

#Pulse - Death of Our Advisor
country_event = {
	id = ab_punic.1021
	title = ab_punic.1021.t
	desc = ab_punic.1021.d
	picture = DEATH_OF_HEIR_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
					}
				}
				any_owned_province = {
					has_province_modifier = punic_pale_death_prov
				}
			}
			AND = {
				NOT = {
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				any_owned_province = {
					has_province_modifier = punic_gray_fever_prov
				}
			}
		}
		OR = {
			has_adm_advisor = yes
			has_dip_advisor = yes
			has_mil_advisor = yes
		}
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.2
			OR = {
				has_country_modifier = punic_pale_death_immunity
				has_country_modifier = punic_gray_fever_immunity
			}
		}
	}
	
	option = {
		name = ab_punic.1021.a
		kill_advisor = random
	}
}

#Pulse - The Plague Hit Our Ruler
country_event = {
	id = ab_punic.1022
	title = ab_punic.1022.t
	desc = ab_punic.1022.d
	picture = KING_SICK_IN_BED_eventPicture

	is_triggered_only = yes

	trigger = {
		capital_scope = {
			OR = {
				has_province_modifier = punic_pale_death_prov
				has_province_modifier = punic_gray_fever_prov
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.2
			OR = {
				has_country_modifier = punic_pale_death_immunity
				has_country_modifier = punic_gray_fever_immunity
			}
		}
	}
	
	option = {
		name = ab_punic.1022.a
		ai_chance = { factor = 75 }
		add_years_of_income = -0.5
		random_list = { 
			25 = {
				country_event = {
					id = ab_punic.1023
				}
			}
			75 = { }
		}
	}

	option = {
		name = ab_punic.1022.b
		ai_chance = { factor = 25 }
		random_list = { 
			50 = {
				country_event = {
					id = ab_punic.1023
				}
			}
			50 = { }
		}
	}
}

#Pulse - The Plague Hit Our Ruler - The Ruler Passed Away
country_event = {
	id = ab_punic.1023
	title = ab_punic.1023.t
	desc = ab_punic.1023.d
	picture = DEATH_OF_HEIR_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			kill_ruler = yes
		}
	}
	
	option = {
		name = ab_punic.1023.a
	}
}

#Pulse - Smugglers Caught (Border Closed)
country_event = {
	id = ab_punic.1024
	title = ab_punic.1024.t
	desc = ab_punic.1024.d
	picture = SMUGGLERS_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_modifier = punic_plague_closed_border
		any_owned_province = {
			NOT = {
				OR = {
					has_province_modifier = punic_pale_death_prov
					has_province_modifier = punic_gray_fever_prov
				}
			}
			any_neighbor_province = {
				NOT = { owned_by = ROOT }
				OR = {
					has_province_modifier = punic_pale_death_prov
					has_province_modifier = punic_gray_fever_prov
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = {
						OR = {
							has_province_modifier = punic_pale_death_prov
							has_province_modifier = punic_gray_fever_prov
						}
					}
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						OR = {
							has_province_modifier = punic_pale_death_prov
							has_province_modifier = punic_gray_fever_prov
						}
					}
				}
				save_event_target_as = diseaseProv
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1024.a
		ai_chance = { factor = 60 }
		add_years_of_income = 0.5
		if = {
			limit = {
				OR = {
					has_country_modifier = punic_pale_death_immunity
					has_country_modifier = punic_gray_fever_immunity
				}
			}
			event_target:diseaseProv = {
				random_list = { 
					40 = {
						province_event = {
							id = ab_punic.1019
						}
					}
					60 = { }
				}
			}
		}
		else = {
			event_target:diseaseProv = {
				random_list = { 
					75 = {
						province_event = {
							id = ab_punic.1019
						}
					}
					25 = { }
				}
			}
		}
	}

	option = {
		name = ab_punic.1024.b
		ai_chance = { factor = 40 }
		if = {
			limit = {
				OR = {
					has_country_modifier = punic_pale_death_immunity
					has_country_modifier = punic_gray_fever_immunity
				}
			}
			event_target:diseaseProv = {
				random_list = { 
					1 = {
						province_event = {
							id = ab_punic.1019
						}
					}
					99 = { }
				}
			}
		}
		else = {
			event_target:diseaseProv = {
				random_list = { 
					50 = {
						province_event = {
							id = ab_punic.1019
						}
					}
					50 = { }
				}
			}
		}
	}
}

#Pulse - Trade Disrupted (Border Closed)
country_event = {
	id = ab_punic.1025
	title = ab_punic.1025.t
	desc = ab_punic.1025.d
	picture = SAD_MERCHANT_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_modifier = punic_plague_closed_border
		NOT = {
			OR = {
				has_country_modifier = punic_disrupted_trade
				has_country_modifier = punic_severe_disrupted_trade
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = ab_punic.1025.a
		ai_chance = { factor = 60 }
		add_yearly_manpower = -0.25
		add_dip_power = -100
		add_country_modifier = {
			name = punic_disrupted_trade
			duration = 3650
		}
	}

	option = {
		name = ab_punic.1025.b
		ai_chance = { factor = 40 }
		add_country_modifier = {
			name = punic_severe_disrupted_trade
			duration = 3650
		}
	}
}

#Pulse - Refugees Seaking Help (Border Closed)
country_event = {
	id = ab_punic.1026
	title = ab_punic.1026.t
	desc = ab_punic.1026.d
	picture = REFUGEES_ESCAPING_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_modifier = punic_plague_closed_border
		any_owned_province = {
			NOT = {
				OR = {
					has_province_modifier = punic_pale_death_prov
					has_province_modifier = punic_gray_fever_prov
				}
			}
			any_neighbor_province = {
				NOT = { owned_by = ROOT }
				base_tax = 2
				base_production = 2
				base_manpower = 2
				OR = {
					has_province_modifier = punic_pale_death_prov
					has_province_modifier = punic_gray_fever_prov
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = {
						OR = {
							has_province_modifier = punic_pale_death_prov
							has_province_modifier = punic_gray_fever_prov
						}
					}
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						base_tax = 2
						base_production = 2
						base_manpower = 2
						OR = {
							has_province_modifier = punic_pale_death_prov
							has_province_modifier = punic_gray_fever_prov
						}
					}
				}
				save_event_target_as = diseaseProv
				random_neighbor_province = {
					limit = {
						NOT = { owned_by = ROOT }
						base_tax = 2
						base_production = 2
						base_manpower = 2
						OR = {
							has_province_modifier = punic_pale_death_prov
							has_province_modifier = punic_gray_fever_prov
						}
					}
					save_event_target_as = refugeeProv
				}
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1026.a
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0
				OR = {
					ruler_has_personality = cruel_personality
					ruler_has_personality = craven_personality
					ruler_has_personality = petty_personality
				}
			}
		}
		event_target:refugeeProv = {
			if = {
				limit = {
					development = 20
				}
				add_base_tax = -2
				add_base_production = -2
				add_base_manpower = -2
				custom_tooltip = AB_EMPTY
				event_target:diseaseProv = {
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
				}
			}
			else = {
				add_base_tax = -1
				add_base_production = -1
				add_base_manpower = -1
				custom_tooltip = AB_EMPTY
				event_target:diseaseProv = {
					add_base_tax = 1
					add_base_production = 1
					add_base_manpower = 1
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_country_modifier = punic_pale_death_immunity
					has_country_modifier = punic_gray_fever_immunity
				}
			}
			event_target:diseaseProv = {
				random_list = { 
					40 = {
						province_event = {
							id = ab_punic.1019
						}
					}
					60 = { }
				}
			}
		}
		else = {
			event_target:diseaseProv = {
				random_list = { 
					75 = {
						province_event = {
							id = ab_punic.1019
						}
					}
					25 = { }
				}
			}
		}
	}

	option = {
		name = ab_punic.1026.b
		ai_chance = { factor = 40 }
	}
}

#Pulse - Growing Distrust (Quarantine)
country_event = {
	id = ab_punic.1027
	title = ab_punic.1027.t
	desc = ab_punic.1027.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_modifier = punic_plague_enforced_quarantine
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			NOT = { innovativeness = 25 }
		}
		modifier = {
			factor = 0.5
			innovativeness = 50
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = diseaseProv
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1027.a
		event_target:diseaseProv = {
			add_nationalism = 5
			add_local_autonomy = 25
		}
	}
}

#Pulse - Social Unrest (Quarantine)
country_event = {
	id = ab_punic.1028
	title = ab_punic.1028.t
	desc = ab_punic.1028.d
	picture = BATTLE_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_modifier = punic_plague_enforced_quarantine
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			NOT = { innovativeness = 25 }
		}
		modifier = {
			factor = 0.5
			innovativeness = 50
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = diseaseProv
				spawn_rebels = {
					type = leadered_peasant_rebels
					size = 3
					win = yes
				}
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1028.a
		event_target:diseaseProv = {
			tooltip = {
				spawn_rebels = {
					type = leadered_peasant_rebels
					size = 3
				}
			}
		}
	}
}

#Pulse - Cult of the Plague (Quarantine)
country_event = {
	id = ab_punic.1029
	title = ab_punic.1029.t
	desc = ab_punic.1029.d
	picture = RELIGIOUS_TURMOIL_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_modifier = punic_plague_enforced_quarantine
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			NOT = { innovativeness = 25 }
		}
		modifier = {
			factor = 0.5
			innovativeness = 50
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = diseaseProv
				spawn_rebels = {
					type = animism_rebels
					religion = animism
					size = 3
					win = yes
				}
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1029.a
		event_target:diseaseProv = {
			tooltip = {
				spawn_rebels = {
					type = animism_rebels
					religion = animism
					size = 3
				}
			}
		}
	}
}

#Pulse - Plague Doctors Arrive (Quarantine)
country_event = {
	id = ab_punic.1030
	title = ab_punic.1030.t
	desc = ab_punic.1030.d
	picture = STREET_SPEECH_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_modifier = punic_plague_enforced_quarantine
		any_owned_province = {
			OR = {
				has_province_modifier = punic_pale_death_prov
				has_province_modifier = punic_gray_fever_prov
			}
			NOT = { has_province_modifier = punic_pale_death_plague_doctor }
			NOT = { has_province_modifier = punic_gray_fever_plague_doctor }
		}
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			NOT = { innovativeness = 25 }
		}
		modifier = {
			factor = 2
			innovativeness = 50
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						has_province_modifier = punic_pale_death_prov
						has_province_modifier = punic_gray_fever_prov
					}
				}
				save_event_target_as = diseaseProv
			}
		}
	}

	goto = diseaseProv
	
	option = {
		name = ab_punic.1030.a
		ai_chance = { factor = 60 }
		add_adm_power = -100
		if = {
			limit = {
				OR = {
					has_country_modifier = punic_pale_death_immunity
					has_country_modifier = punic_gray_fever_immunity
				}
			}
			event_target:diseaseProv = {
				random_list = { 
					5 = {
						province_event = {
							id = ab_punic.1031
						}
					}
					20 = {
						province_event = {
							id = ab_punic.1032
						}
					}
					75 = {
						province_event = {
							id = ab_punic.1033
						}
					}
				}
			}
		}
		else = {
			event_target:diseaseProv = {
				random_list = { 
					25 = {
						province_event = {
							id = ab_punic.1031
						}
					}
					35 = {
						province_event = {
							id = ab_punic.1032
						}
					}
					40 = {
						province_event = {
							id = ab_punic.1033
						}
					}
				}
			}
		}
	}

	option = {
		name = ab_punic.1030.b
		ai_chance = { factor = 40 }
		if = {
			limit = {
				OR = {
					has_country_modifier = punic_pale_death_immunity
					has_country_modifier = punic_gray_fever_immunity
				}
			}
			event_target:diseaseProv = {
				random_list = { 
					25 = {
						province_event = {
							id = ab_punic.1031
						}
					}
					35 = {
						province_event = {
							id = ab_punic.1032
						}
					}
					40 = {
						province_event = {
							id = ab_punic.1033
						}
					}
				}
			}
		}
		else = {
			event_target:diseaseProv = {
				random_list = { 
					60 = {
						province_event = {
							id = ab_punic.1031
						}
					}
					30 = {
						province_event = {
							id = ab_punic.1032
						}
					}
					10 = {
						province_event = {
							id = ab_punic.1033
						}
					}
				}
			}
		}
	}
}

#Pulse - Plague Doctors Arrive (Quarantine) - Unsuccessful
province_event = {
	id = ab_punic.1031
	title = ab_punic.1031.t
	desc = ab_punic.1031.d
	picture = FAMINE_eventPicture

	is_triggered_only = yes
	
	option = {
		name = ab_punic.1031.a
		owner = {
			add_prestige = -5
		}
	}
}

#Pulse - Plague Doctors Arrive (Quarantine) - Semi-success
province_event = {
	id = ab_punic.1032
	title = ab_punic.1032.t
	desc = ab_punic.1032.d
	picture = ECONOMY_eventPicture

	is_triggered_only = yes
	
	option = {
		name = ab_punic.1032.a
		if = {
			limit = {
				OR = {
					continent = north_america
					continent = south_america
				}
			}
			add_province_modifier = {
				name = punic_pale_death_plague_doctor
				duration = 912
			}
		}
		else = {
			add_province_modifier = {
				name = punic_gray_fever_plague_doctor
				duration = 912
			}
		}
	}
}

#Pulse - Plague Doctors Arrive (Quarantine) - Plague Contained
province_event = {
	id = ab_punic.1033
	title = ab_punic.1033.t
	desc = ab_punic.1033.d
	picture = REFORM_eventPicture

	is_triggered_only = yes
	
	option = {
		name = ab_punic.1033.a
		if = {
			limit = {
				OR = {
					continent = north_america
					continent = south_america
				}
			}
			remove_province_modifier = punic_pale_death_prov
		}
		else = {
			remove_province_modifier = punic_gray_fever_prov
		}
		custom_tooltip = AB_EMPTY
		custom_tooltip = PLAGUE_DOCTOR_IMMUNITY
		hidden_effect = {
			remove_province_modifier = punic_pale_death_cope
			remove_province_modifier = punic_gray_fever_cope
			add_permanent_province_modifier = {
				name = punic_plague_doctor_immunity
				duration = 3650
				hidden = yes
			}
		}
	}
}